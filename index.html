<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gypsy Show — Цыганский ансамбль</title>
  <meta name="description" content="Цыганские песни и танцы. Живой звук. Яркое шоу на сцене и для welcome-зон. Бронирование дат — gypsy-show.ru">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

  <!-- Canonical / Icons -->
  <link rel="canonical" href="https://www.gypsy-show.ru/">
  <link rel="icon" href="img/favicon.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="img/apple-touch-icon.png" sizes="180x180">
  <meta name="theme-color" content="#100612">

  <!-- Open Graph -->
  <meta property="og:title" content="Цыганский ансамбль — Gypsy Show">
  <meta property="og:description" content="Цыганские песни и танцы. Концерты, корпоративы, свадьбы.">
  <meta property="og:image" content="https://www.gypsy-show.ru/img/cover.jpg">
  <meta property="og:url" content="https://www.gypsy-show.ru/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Gypsy Show">
  <meta property="og:locale" content="ru_RU">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Цыганский ансамбль — Gypsy Show">
  <meta name="twitter:description" content="Цыганские песни и танцы. Концерты, корпоративы, свадьбы.">
  <meta name="twitter:image" content="https://www.gypsy-show.ru/img/cover.jpg">

  <style>
    :root{
      --header-h: 76px;
      --bg:#0c0611; --bg2:#13081a;
      --text:#fff4fb; --muted:#d9cfe1;
      --gold:#ffb703; --rose:#ff3d6a; --violet:#7a4dff; --cyan:#2bf5ff; --amber:#ff7b00;
      --glass: rgba(255,255,255,.06); --border: rgba(255,255,255,.18);
      --radius:18px; --shadow: 0 12px 40px rgba(0,0,0,.45);
      --mx:50%; --my:50%; /* mouse position (JS updates) */
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; color:var(--text);
      font-family: Montserrat, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      line-height:1.6;
      background:
        radial-gradient(1200px 700px at 0% 0%, #2d0e41 0%, transparent 60%),
        radial-gradient(900px 600px at 100% 0%, #3c0e2c 0%, transparent 60%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
      overflow-x:hidden;
    }

    /* Top progress bar */
    .progress{position:fixed; top:0; left:0; height:3px; width:0%; background: linear-gradient(90deg, var(--rose), var(--gold), var(--violet)); z-index:1000; box-shadow:0 0 12px rgba(255,255,255,.4)}
    /* Luxury cursor */
    .cursor-dot,.cursor-ring{
      position:fixed; left:0; top:0; pointer-events:none; z-index:999; transform:translate(-50%,-50%);
      transition:opacity .3s ease;
    }
    .cursor-dot{width:6px;height:6px;border-radius:50%; background:radial-gradient(circle, #fff 0, #fff6 60%, transparent 70%);}
    .cursor-ring{width:44px;height:44px;border-radius:50%;
      background: radial-gradient(50% 50% at 50% 50%, rgba(255,255,255,.15), rgba(255,255,255,0) 60%),
                  conic-gradient(from 0deg, rgba(255,61,106,.5), rgba(255,183,3,.35), rgba(123,77,255,.45), rgba(43,245,255,.35), rgba(255,61,106,.5));
      filter: blur(.2px); mix-blend-mode: screen; opacity:.8;
    }
    .cursor-hide .cursor-dot,.cursor-hide .cursor-ring{opacity:0}

    /* Animated ambience following cursor */
    .aura{
      position:fixed; inset:0; pointer-events:none; z-index:-1;
      background:
        radial-gradient(600px 600px at var(--mx) var(--my), rgba(255,61,106,.10), rgba(255,183,3,.08) 35%, transparent 60%),
        radial-gradient(500px 500px at calc(100% - var(--mx)) calc(100% - var(--my)), rgba(122,77,255,.10), rgba(43,245,255,.08) 35%, transparent 60%);
      transition: background 120ms ease-out;
    }

    /* Header */
    .header{
      position:sticky; top:0; z-index:50; height:var(--header-h);
      backdrop-filter: blur(10px);
      background: linear-gradient(90deg, rgba(12,6,17,.8), rgba(15,7,26,.55));
      border-bottom:1px solid var(--border);
    }
    .container{width:min(1160px, 92%); margin-inline:auto}
    .header__wrap{display:flex; align-items:center; justify-content:space-between; gap:20px; height:var(--header-h)}
    .logo{
      font: 700 28px "Playfair Display", serif; letter-spacing:.5px;
      background: linear-gradient(120deg, #fff 20%, var(--gold) 45%, #fff 65%, var(--rose) 85%);
      -webkit-background-clip:text; background-clip:text; color:transparent; animation:sheen 6s linear infinite;
    }
    @keyframes sheen{0%{background-position:0%}100%{background-position:200%}}
    .nav{display:flex; gap:18px; align-items:center}
    .nav a{
      color:var(--muted); text-decoration:none; font-weight:600; padding:10px 12px; border-radius:12px; position:relative;
      transition: color .2s, transform .2s;
    }
    .nav a::after{
      content:""; position:absolute; left:12px; right:12px; bottom:6px; height:2px; border-radius:2px;
      background: linear-gradient(90deg, var(--rose), var(--gold), var(--violet)); transform:scaleX(0); transform-origin:left;
      transition: transform .25s;
    }
    .nav a:hover{color:#fff; transform:translateY(-1px)}
    .nav a:hover::after{transform:scaleX(1)}
    .burger{display:none; font-size:26px; border:none; background:transparent; color:#fff}

    /* Buttons */
    .btn{
      --padX:22px;
      position:relative; display:inline-flex; align-items:center; justify-content:center; cursor:pointer; user-select:none;
      padding:12px var(--padX); border-radius:999px; border:1px solid transparent; text-decoration:none; font-weight:700; letter-spacing:.2px;
      transition: transform .12s ease, filter .25s ease, box-shadow .25s ease;
      box-shadow: 0 10px 26px rgba(255, 61, 106, .28);
      overflow:hidden; isolation:isolate;
    }
    .btn--primary{
      color:#120510; background: linear-gradient(135deg, var(--rose) 0%, #ff6e8e 35%, var(--gold) 100%);
      background-size:200% 200%; animation:gradMove 8s ease infinite;
    }
    .btn--outlined{color:#fff; border-color:rgba(255,255,255,.35); background:transparent}
    .btn:hover{transform:translateY(-2px); filter:brightness(1.05)}
    .btn:active{transform:translateY(0)}
    @keyframes gradMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .btn span.ripple{position:absolute; border-radius:50%; transform:scale(0); background:rgba(255,255,255,.6); animation:ripple 600ms linear; pointer-events:none}
    @keyframes ripple{to{transform:scale(4); opacity:0}}

    /* Sections */
    section{scroll-margin-top: calc(var(--header-h) + 16px)}
    .section{padding:84px 0; position:relative}
    .section h2{font:700 clamp(28px, 3.2vw, 38px) "Playfair Display", serif; margin:0 0 18px}
    .sub{color:var(--muted); margin:0 0 20px}

    /* Section backgrounds with aurora stripes */
    .aura-bg::before{
      content:""; position:absolute; inset:-20% -10%; z-index:-1; filter: blur(60px); opacity:.55;
      background:
        conic-gradient(from 180deg at 30% 40%, rgba(255,183,3,.21), rgba(255,61,106,.22), rgba(122,77,255,.22), rgba(43,245,255,.18), rgba(255,183,3,.21));
      animation: spin 24s linear infinite;
    }
    .aura-bg::after{
      content:""; position:absolute; inset:0; z-index:-2; pointer-events:none; opacity:.12; mix-blend-mode: overlay;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="1200"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/><feColorMatrix values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0 0"/></filter><rect width="1200" height="1200" filter="url(%23n)" /></svg>');
      background-size: 500px 500px;
      animation: drift 60s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    @keyframes drift{to{background-position:300px 400px}}

    /* Hero */
    .hero{padding: clamp(84px, 12vw, 144px) 0 96px; overflow:hidden; border-bottom:1px solid var(--border)}
    .hero__wrap{display:grid; grid-template-columns: 1.1fr .9fr; align-items:center; gap:28px}
    .hero__text h1{
      margin:0 0 8px; font: 700 clamp(36px, 6vw, 64px) "Playfair Display", serif;
      background: linear-gradient(120deg, #fff 0%, #fff 40%, var(--gold) 60%, #fff 80%); -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow:0 8px 28px rgba(255,61,106,.32);
      animation:sheen 7s linear infinite;
    }
    .hero__text p{margin:0 0 24px; color:var(--muted); font-size:clamp(16px,1.5vw,18px)}
    .hero-ornament{
      width:100%; aspect-ratio: 4/3; border-radius: var(--radius);
      background: radial-gradient(120% 100% at 0% 0%, rgba(255, 183, 3,.14), transparent 60%),
                  radial-gradient(120% 90% at 100% 0%, rgba(255, 61, 106,.16), transparent 60%),
                  url('img/photo_01.jpg') center/cover no-repeat;
      box-shadow: var(--shadow);
      transform: translateZ(0) rotate(-2deg);
      animation: float 6s ease-in-out infinite;
      will-change: transform;
    }
    @keyframes float{0%,100%{transform:translateY(0) rotate(-2deg)}50%{transform:translateY(-12px) rotate(-1deg)}}

    /* Features / Cards */
    .grid-2{display:grid; grid-template-columns:1fr 1fr; gap:28px}
    .card{padding:24px; border-radius:18px; background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); border:1px solid var(--border); box-shadow:var(--shadow); position:relative; overflow:hidden}
    .card::before{
      content:""; position:absolute; inset:-1px; border-radius:inherit; z-index:0;
      background: conic-gradient(from 0deg at 50% 50%, rgba(255,61,106,.35), rgba(255,183,3,.35), rgba(122,77,255,.35), rgba(43,245,255,.25), rgba(255,61,106,.35));
      filter: blur(12px); opacity:.25; pointer-events:none;
      mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
      padding:1px;
    }
    .card h3{margin:0 0 12px}
    .list{margin:0; padding-left:18px}
    .features{display:grid; gap:10px; padding-left:18px}
    .tilt{transform-style:preserve-3d; perspective:1000px; will-change:transform; transition:transform .12s ease}

    /* Video */
    .video-grid{display:grid; grid-template-columns:1fr 1fr; gap:22px}
    .video{border-radius:18px; overflow:hidden; border:1px solid var(--border); background:#000; box-shadow:var(--shadow)}
    video{width:100%; height:auto; display:block; outline:none}

    /* Gallery (bigger images) */
    .gallery{display:grid; grid-template-columns:repeat(2, 1fr); gap:16px}
    @media(min-width:1100px){ .gallery{grid-template-columns:repeat(3, 1fr)} }
    .gallery img{
      width:100%; height:340px; object-fit:cover; border-radius:16px; border:1px solid var(--border);
      transform:translateZ(0); transition: transform .35s ease, box-shadow .35s ease, filter .35s ease;
      filter:saturate(1.1) contrast(1.05);
      box-shadow: 0 14px 30px rgba(0,0,0,.35);
      cursor:zoom-in;
    }
    .gallery img:hover{transform:scale(1.04); box-shadow:0 22px 46px rgba(0,0,0,.5)}

    /* Lightbox with Zoom */
    .lightbox{position:fixed; inset:0; background:rgba(6,3,10,.92); display:none; align-items:center; justify-content:center; z-index:100}
    .lightbox.show{display:flex}
    .lb-stage{position:relative; max-width:94vw; max-height:88vh; overflow:hidden; border-radius:16px; border:1px solid var(--border); box-shadow:var(--shadow)}
    .lightbox img{display:block; transform-origin:center; user-select:none; -webkit-user-drag:none}
    .lightbox .ui{position:absolute; inset:auto 0 0 0; display:flex; justify-content:center; gap:10px; padding:10px}
    .lightbox .btn{padding:10px 12px}
    .lb-close, .lb-prev, .lb-next{
      position:absolute; top:18px; width:44px; height:44px; display:grid; place-items:center;
      background:var(--glass); border:1px solid var(--border); color:#fff; border-radius:50%; cursor:pointer; box-shadow:var(--shadow)
    }
    .lb-close{right:18px}
    .lb-prev{left:18px; top:calc(50% - 22px)}
    .lb-next{right:18px; top:calc(50% - 22px)}

    /* Contacts */
    .contacts p{margin:.25em 0}
    .contacts a{color:#fff; text-decoration:none; border-bottom:1px dashed rgba(255,255,255,.4)}
    .contacts a:hover{color:var(--gold); border-color:transparent}

    /* Footer */
    .footer{padding:30px 0; border-top:1px solid var(--border); color:var(--muted); background:rgba(0,0,0,.18)}
    .footer__wrap{display:flex; justify-content:space-between; align-items:center}
    .small{font-size:13px; opacity:.85}

    /* Reveal on scroll */
    .reveal{opacity:0; transform: translateY(18px); transition: all .85s cubic-bezier(.2,.8,.2,1)}
    .reveal.in{opacity:1; transform:none}

    /* To top */
    .to-top{position:fixed; right:18px; bottom:18px; z-index:20; opacity:0; pointer-events:none; transition:opacity .3s ease}
    .to-top.show{opacity:1; pointer-events:auto}

    /* Responsive */
    @media (max-width: 900px){
      .nav{display:none}
      .burger{display:block}
      body.menu-open .nav{
        display:flex; position:fixed; inset:var(--header-h) 0 auto 0; padding:14px; z-index:60;
        background: rgba(16,7,24,.98); border-bottom:1px solid var(--border); box-shadow:var(--shadow);
        flex-direction:column; gap:8px
      }
      .hero__wrap{grid-template-columns:1fr}
      .hero-ornament{order:-1; margin-bottom:14px}
      .grid-2{grid-template-columns:1fr}
      .video-grid{grid-template-columns:1fr}
      .gallery{grid-template-columns:1fr}
      .gallery img{height:320px}
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{animation: none !important; transition:none !important}
      html{scroll-behavior:auto}
    }
  </style>
</head>
<body>
  <div class="progress" id="progress"></div>
  <div class="aura" id="aura"></div>
  <div class="cursor-dot" id="cDot"></div>
  <div class="cursor-ring" id="cRing"></div>

  <header class="header">
    <div class="container header__wrap">
      <div class="logo">Gypsy Show</div>
      <nav class="nav">
        <a href="#about">О нас</a>
        <a href="#program">Программа</a>
        <a href="#video">Видео</a>
        <a href="#gallery">Галерея</a>
        <a href="#contacts" class="btn btn--outlined">Контакты</a>
      </nav>
      <button class="burger" aria-label="Меню" onclick="document.body.classList.toggle('menu-open')">☰</button>
    </div>
  </header>

  <section class="hero aura-bg" id="top">
    <div class="container hero__wrap">
      <div class="hero__text reveal">
        <h1>Цыганский ансамбль</h1>
        <p>Песни, танцы и энергия сцены. Живой звук. 4 солиста. Яркое шоу для любых площадок.</p>
        <a href="#contacts" class="btn btn--primary">Забронировать дату</a>
      </div>
      <div class="hero-ornament reveal tilt" data-tilt></div>
    </div>
  </section>

  <section id="about" class="section aura-bg">
    <div class="container">
      <h2 class="reveal">О нас</h2>
      <p class="sub reveal">Мы выходим к гостям с живой музыкой, танцами и яркими интерактивами. Камерные вечера и большие сцены — одинаково уверенно.</p>
      <ul class="features reveal">
        <li>Живой вокал и танцы</li>
        <li>Цыганская классика и современные хиты</li>
        <li>Интерактив с залом</li>
      </ul>
    </div>
  </section>

  <section id="program" class="section aura-bg" style="border-block:1px solid var(--border)">
    <div class="container">
      <h2 class="reveal">Программа</h2>
      <div class="grid-2">
        <div class="card reveal tilt" data-tilt>
          <h3>Для сцены</h3>
          <ul class="list">
            <li>«Величальная»</li>
            <li>«Мохнатый шмель», «Дорогой длинною», «Гитара мается»</li>
            <li>Танцевальные выходы, чечётки</li>
            <li>Предсказания, хоровод, фотофинал</li>
          </ul>
        </div>
        <div class="card reveal tilt" data-tilt>
          <h3>Для welcome/залов</h3>
          <ul class="list">
            <li>Встреча с шампанским</li>
            <li>Короткие музыкальные включения</li>
            <li>Лёгкие конкурсы и интерактив</li>
            <li>Новая программа и костюмы на второй блок</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section id="video" class="section aura-bg">
    <div class="container">
      <h2 class="reveal">Видео</h2>
      <div class="video-grid">
        <div class="video reveal tilt" data-tilt>
          <!-- Локальный файл. Загрузите video/clip1.mp4 в репозиторий -->
          <video controls preload="metadata" poster="img/photo_01.jpg">
            <source src="video/clip1.mp4" type="video/mp4">
            Ваш браузер не поддерживает тег video.
          </video>
        </div>
        <div class="video reveal tilt" data-tilt>
          <!-- Локальный файл. Загрузите video/clip2.mp4 в репозиторий -->
          <video controls preload="metadata" poster="img/photo_02.jpg">
            <source src="video/clip2.mp4" type="video/mp4">
            Ваш браузер не поддерживает тег video.
          </video>
        </div>
      </div>
    </div>
  </section>

  <section id="gallery" class="section aura-bg" style="border-block:1px solid var(--border)">
    <div class="container">
      <h2 class="reveal">Галерея</h2>
      <div class="gallery">
        <img class="reveal" src="img/photo_01.jpg" alt="GypsyShow 1" loading="lazy" />
        <img class="reveal" src="img/photo_02.jpg" alt="GypsyShow 2" loading="lazy" />
        <img class="reveal" src="img/photo_03.jpg" alt="GypsyShow 3" loading="lazy" />
        <img class="reveal" src="img/photo_04.jpg" alt="GypsyShow 4" loading="lazy" />
        <img class="reveal" src="img/photo_05.jpg" alt="GypsyShow 5" loading="lazy" />
        <img class="reveal" src="img/photo_06.jpg" alt="GypsyShow 6" loading="lazy" />
      </div>
    </div>
  </section>

  <section id="contacts" class="section aura-bg">
    <div class="container">
      <h2 class="reveal">Контакты и бронирование</h2>
      <div class="contacts reveal">
        <p>Телефон: <a href="tel:+79282589678">+7 (928) 258‑96‑78</a></p>
        <p>Телефон: <a href="tel:+79284072037">+7 (928) 407‑20‑37</a></p>
        <p>Instagram: <a href="https://instagram.com/tsigane_na_prazdnik" target="_blank" rel="noopener">tsigane_na_prazdnik</a></p>
        <p>ВКонтакте: <a href="https://vk.com/tsigane_na_prazdnik" target="_blank" rel="noopener">vk.com/tsigane_na_prazdnik</a></p>
        <div style="margin-top:16px">
          <a href="#about" class="btn btn--primary">Посмотреть программу</a>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container footer__wrap">
      <div>© gypsy-show.ru</div>
      <div class="small">Сделано с любовью к музыке</div>
    </div>
  </footer>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <button class="lb-close" aria-label="Закрыть" title="Закрыть">✕</button>
    <button class="lb-prev" aria-label="Назад" title="Назад">‹</button>
    <div class="lb-stage"><img id="lbImg" src="" alt="Просмотр изображения"></div>
    <button class="lb-next" aria-label="Вперёд" title="Вперёд">›</button>
    <div class="ui">
      <a class="btn btn--outlined" id="lbZoomOut">−</a>
      <a class="btn btn--outlined" id="lbZoomReset">100%</a>
      <a class="btn btn--outlined" id="lbZoomIn">+</a>
    </div>
  </div>

  <!-- To top -->
  <div class="to-top" id="toTop"><a class="btn btn--outlined" href="#top" onclick="window.scrollTo({top:0, behavior:'smooth'})">▲</a></div>

  <script>
    // Helper: prefer reduced motion
    const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // Progress bar
    const progress = document.getElementById('progress');
    const onScroll = () => {
      const y = window.scrollY || document.documentElement.scrollTop;
      const h = document.documentElement.scrollHeight - window.innerHeight;
      progress.style.width = (y / h * 100) + '%';
      document.getElementById('toTop').classList.toggle('show', y > 600);
    };
    onScroll(); window.addEventListener('scroll', onScroll);

    // Ripple for buttons
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('.btn');
      if (!btn) return;
      const old = btn.querySelector('.ripple'); if (old) old.remove();
      const rect = btn.getBoundingClientRect();
      const d = Math.max(btn.clientWidth, btn.clientHeight);
      const x = e.clientX - rect.left - d/2; const y = e.clientY - rect.top - d/2;
      const s = document.createElement('span'); s.className='ripple';
      s.style.width = s.style.height = d + 'px'; s.style.left = x + 'px'; s.style.top = y + 'px';
      btn.appendChild(s); setTimeout(()=>s.remove(), 650);
    });

    // Reveal on scroll
    const io = new IntersectionObserver((entries)=>{
      entries.forEach((en)=>{ if (en.isIntersecting){ en.target.classList.add('in'); io.unobserve(en.target);} });
    }, {rootMargin:'0px 0px -10% 0px', threshold:.15});
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    // Custom cursor + aura following mouse
    const cDot = document.getElementById('cDot');
    const cRing = document.getElementById('cRing');
    const aura = document.getElementById('aura');
    let cx = window.innerWidth/2, cy = window.innerHeight/2, tx = cx, ty = cy;
    function raf(){
      // lerp ring position
      cx += (tx - cx) * 0.18; cy += (ty - cy) * 0.18;
      cRing.style.transform = `translate(${cx}px, ${cy}px) translate(-50%,-50%)`;
      cDot.style.transform  = `translate(${tx}px, ${ty}px) translate(-50%,-50%)`;
      requestAnimationFrame(raf);
    }
    requestAnimationFrame(raf);
    window.addEventListener('mousemove', (e)=>{
      tx = e.clientX; ty = e.clientY;
      document.documentElement.style.setProperty('--mx', e.clientX + 'px');
      document.documentElement.style.setProperty('--my', e.clientY + 'px');
    }, {passive:true});
    ['mousedown','mouseleave','blur'].forEach(ev=>window.addEventListener(ev, ()=>document.body.classList.add('cursor-hide')));
    ['mouseup','mouseenter','focus'].forEach(ev=>window.addEventListener(ev, ()=>document.body.classList.remove('cursor-hide')));
    // Emphasize ring over interactive
    document.querySelectorAll('a, button, .btn, .gallery img').forEach(el=>{
      el.addEventListener('mouseenter', ()=> cRing.style.transform += ' scale(1.15)');
      el.addEventListener('mouseleave', ()=> cRing.style.transform = cRing.style.transform.replace(' scale(1.15)',''));
    });

    // Parallax tilt for elements with data-tilt
    if (!reduced){
      document.querySelectorAll('[data-tilt]').forEach(el=>{
        let bx, by;
        el.addEventListener('mousemove', (e)=>{
          const r = el.getBoundingClientRect();
          const x = e.clientX - r.left; const y = e.clientY - r.top;
          const rx = ((y / r.height) - .5) * -8;
          const ry = ((x / r.width) - .5) * 8;
          el.style.transform = `perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg)`;
        });
        el.addEventListener('mouseleave', ()=> el.style.transform='perspective(900px) rotateX(0) rotateY(0)');
      });
    }

    // Lightbox with Zoom/Pan
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const imgs = [...document.querySelectorAll('.gallery img')];
    let idx = 0, scale = 1, pos = {x:0,y:0}, dragging=false, start={x:0,y:0};
    function openLb(i){ idx=i; load(); lb.classList.add('show'); document.body.style.overflow='hidden'; resetZoom(); }
    function closeLb(){ lb.classList.remove('show'); document.body.style.overflow=''; }
    function load(){ lbImg.src = imgs[idx].src; }
    function resetZoom(){ scale = 1; pos.x=0; pos.y=0; applyTransform(); }
    function applyTransform(){ lbImg.style.transform = `translate(${pos.x}px, ${pos.y}px) scale(${scale})`; }
    function clamp(val, min, max){ return Math.max(min, Math.min(max, val)); }
    imgs.forEach((img,i)=> img.addEventListener('click', ()=>openLb(i)));
    lb.querySelector('.lb-close').addEventListener('click', closeLb);
    lb.querySelector('.lb-prev').addEventListener('click', ()=>{ idx=(idx-1+imgs.length)%imgs.length; load(); resetZoom(); });
    lb.querySelector('.lb-next').addEventListener('click', ()=>{ idx=(idx+1)%imgs.length; load(); resetZoom(); });
    lb.addEventListener('click', (e)=>{ if (e.target===lb) closeLb(); });
    document.addEventListener('keydown', (e)=>{ if (!lb.classList.contains('show')) return;
      if (e.key==='Escape') closeLb();
      if (e.key==='ArrowRight') lb.querySelector('.lb-next').click();
      if (e.key==='ArrowLeft') lb.querySelector('.lb-prev').click();
    });
    // Zoom buttons
    document.getElementById('lbZoomIn').addEventListener('click', ()=>{ scale = clamp(scale+0.25, 1, 4); applyTransform(); });
    document.getElementById('lbZoomOut').addEventListener('click', ()=>{ scale = clamp(scale-0.25, 1, 4); if(scale===1){pos.x=pos.y=0} applyTransform(); });
    document.getElementById('lbZoomReset').addEventListener('click', ()=>{ resetZoom(); });
    // Wheel zoom
    lb.addEventListener('wheel', (e)=>{
      if (!lb.classList.contains('show')) return;
      e.preventDefault();
      const delta = -Math.sign(e.deltaY) * 0.2;
      const old = scale; scale = clamp(scale + delta, 1, 4);
      // Zoom around cursor point
      const rect = lbImg.getBoundingClientRect();
      const cx = e.clientX - rect.left - rect.width /2;
      const cy = e.clientY - rect.top  - rect.height/2;
      pos.x -= cx * (scale/old - 1);
      pos.y -= cy * (scale/old - 1);
      applyTransform();
    }, {passive:false});
    // Drag to pan
    lbImg.addEventListener('mousedown', (e)=>{ if (scale<=1) return; dragging=true; start.x=e.clientX-pos.x; start.y=e.clientY-pos.y; e.preventDefault(); });
    window.addEventListener('mousemove', (e)=>{ if (!dragging) return; pos.x=e.clientX-start.x; pos.y=e.clientY-start.y; applyTransform(); });
    window.addEventListener('mouseup', ()=> dragging=false);
    // Touch pan
    lbImg.addEventListener('touchstart', (e)=>{ if (scale<=1) return; dragging=true; const t=e.touches[0]; start.x=t.clientX-pos.x; start.y=t.clientY-pos.y; }, {passive:true});
    lbImg.addEventListener('touchmove', (e)=>{ if (!dragging) return; const t=e.touches[0]; pos.x=t.clientX-start.x; pos.y=t.clientY-start.y; applyTransform(); }, {passive:true});
    lbImg.addEventListener('touchend', ()=> dragging=false);

    // Close mobile menu on link click or outside header
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.header') && document.body.classList.contains('menu-open')) {
        document.body.classList.remove('menu-open');
      }
      if (e.target.matches('.nav a')) document.body.classList.remove('menu-open');
    });
  </script>
</body>
</html>
