<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Цыгане на праздник — Цыгане на праздник</title>
  <meta name="description" content="Цыгане на праздник. Цыганские песни и танцы, живой звук, яркое шоу. Бронирование дат — gypsy-show.ru">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

  <!-- Canonical / Icons -->
  <link rel="canonical" href="https://www.gypsy-show.ru/">
  <link rel="icon" href="img/favicon.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="img/apple-touch-icon.png" sizes="180x180">
  <meta name="theme-color" content="#100612">

  <!-- Open Graph -->
  <meta property="og:title" content="Цыгане на праздник — Цыгане на праздник">
  <meta property="og:description" content="Цыганские песни и танцы. Концерты, корпоративы, свадьбы.">
  <meta property="og:image" content="https://www.gypsy-show.ru/img/cover.jpg">
  <meta property="og:url" content="https://www.gypsy-show.ru/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Цыгане на праздник">
  <meta property="og:locale" content="ru_RU">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Цыгане на праздник — Цыгане на праздник">
  <meta name="twitter:description" content="Цыганские песни и танцы. Концерты, корпоративы, свадьбы.">
  <meta name="twitter:image" content="https://www.gypsy-show.ru/img/cover.jpg">

  <style>
    :root{
      --header-h: 76px;
      --bg:#0c0611; --bg2:#13081a;
      --text:#fff4fb; --muted:#d9cfe1;
      --gold:#ffb703; --rose:#ff3d6a; --violet:#7a4dff; --cyan:#2bf5ff; --amber:#ff7b00;
      --glass: rgba(255,255,255,.06); --border: rgba(255,255,255,.18);
      --radius:18px; --shadow: 0 12px 40px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; color:var(--text);
      font-family: Montserrat, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      line-height:1.7; font-size:17.5px;
      background:
        radial-gradient(1200px 700px at 0% 0%, #2d0e41 0%, transparent 60%),
        radial-gradient(900px 600px at 100% 0%, #3c0e2c 0%, transparent 60%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
      overflow-x:hidden;
    }

    /* Scroll progress */
    .progress{position:fixed; top:0; left:0; height:3px; width:0%; background: linear-gradient(90deg, var(--rose), var(--gold), var(--violet)); z-index:1000; box-shadow:0 0 12px rgba(255,255,255,.4)}

    /* Light cursor follower (smooth, lightweight) */
    .cursor{
      position:fixed; left:0; top:0; width:20px; height:20px; border-radius:50%;
      border:1px solid rgba(255,255,255,.45);
      box-shadow:0 0 10px rgba(255,255,255,.25);
      transform:translate(-50%,-50%); pointer-events:none; z-index:999;
      transition: opacity .3s ease;
      mix-blend-mode:screen; opacity:.9;
    }
    .cursor-hide .cursor{opacity:0}

    /* Header */
    .header{
      position:sticky; top:0; z-index:50; height:var(--header-h);
      backdrop-filter: blur(10px);
      background: linear-gradient(90deg, rgba(12,6,17,.8), rgba(15,7,26,.55));
      border-bottom:1px solid var(--border);
    }
    .container{width:min(1200px, 92%); margin-inline:auto}
    .header__wrap{display:flex; align-items:center; justify-content:space-between; gap:20px; height:var(--header-h)}
    .logo{
      font: 700 30px "Playfair Display", serif; letter-spacing:.5px; white-space:nowrap;
      background: linear-gradient(120deg, #fff 20%, var(--gold) 45%, #fff 65%, var(--rose) 85%);
      -webkit-background-clip:text; background-clip:text; color:transparent; animation:sheen 6s linear infinite;
    }
    @keyframes sheen{0%{background-position:0%}100%{background-position:200%}}

    /* Nav with sliding pill */
    .nav{position:relative; display:flex; gap:10px; align-items:center; padding:6px; border-radius:16px; background: rgba(255,255,255,.05); backdrop-filter: blur(6px)}
    .nav a{
      position:relative; z-index:1; color:#e9deef; text-decoration:none; font-weight:600;
      padding:10px 14px; border-radius:12px; transition:color .2s ease;
      white-space:nowrap;
    }
    .nav a:hover{color:#fff}
    .nav__pill{
      position:absolute; left:0; top:0; width:0; height:0; border-radius:12px;
      background: linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.25);
      box-shadow: 0 6px 20px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.08);
      transition: transform .28s cubic-bezier(.2,.8,.2,1), width .2s ease, height .2s ease, opacity .3s ease;
      z-index:0; pointer-events:none; opacity:1;
    }
    .burger{display:none; font-size:26px; border:none; background:transparent; color:#fff}

    /* Buttons */
    .btn{
      --padX:24px;
      position:relative; display:inline-flex; align-items:center; justify-content:center; cursor:pointer; user-select:none;
      padding:13px var(--padX); border-radius:999px; border:1px solid transparent; text-decoration:none; font-weight:700; letter-spacing:.2px;
      transition: transform .12s ease, filter .25s ease, box-shadow .25s ease;
      box-shadow: 0 10px 26px rgba(255, 61, 106, .28);
      overflow:hidden; isolation:isolate; font-size:17px;
    }
    .btn--primary{
      color:#120510; background: linear-gradient(135deg, var(--rose) 0%, #ff6e8e 35%, var(--gold) 100%);
      background-size:200% 200%; animation:gradMove 8s ease infinite;
    }
    .btn--outlined{color:#fff; border-color:rgba(255,255,255,.35); background:transparent}
    .btn:hover{transform:translateY(-2px); filter:brightness(1.05)}
    .btn:active{transform:translateY(0)}
    @keyframes gradMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .btn span.ripple{position:absolute; border-radius:50%; transform:scale(0); background:rgba(255,255,255,.6); animation:ripple 600ms linear; pointer-events:none}
    @keyframes ripple{to{transform:scale(4); opacity:0}}

    /* Sections */
    section{scroll-margin-top: calc(var(--header-h) + 12px)}
    .section{padding:96px 0; position:relative; overflow:hidden}
    .section[data-theme]{--acc1: var(--rose); --acc2: var(--gold); --acc3: var(--violet)}
    .section.themed::before{
      content:""; position:absolute; inset:-20% -10%; z-index:-1; filter: blur(60px); opacity:.5;
      background: conic-gradient(from 180deg at 30% 40%, rgba(255,61,106,.22), rgba(255,183,3,.2), rgba(122,77,255,.2), rgba(43,245,255,.18), rgba(255,61,106,.22));
      animation: spin 28s linear infinite;
    }
    .section.themed::after{
      content:""; position:absolute; left:-30vw; right:-30vw; top:0; height:2px; opacity:.7;
      background: linear-gradient(90deg, var(--acc1), var(--acc2), var(--acc3));
      transform: translateX(-30vw); transition: transform 1s ease .2s;
    }
    .section.in::after{transform: translateX(30vw)}
    @keyframes spin{to{transform:rotate(360deg)}}

    .section h2{
      text-align:center;
      font: 700 clamp(34px, 5vw, 64px) "Playfair Display", serif; margin:0 0 20px;
      background: linear-gradient(120deg, #fff 0%, #fff 40%, var(--acc1) 60%, var(--acc2) 80%); -webkit-background-clip:text; background-clip:text; color:transparent;
      white-space:nowrap;
    }
    .section h2::after{
      content:""; display:block; width:min(240px, 40%); height:4px; margin:14px auto 0; border-radius:999px;
      background: linear-gradient(90deg, var(--acc1), var(--acc2)); box-shadow:0 6px 16px rgba(0,0,0,.25);
      transform: scaleX(.6); opacity:.9; transition: transform .8s ease;
    }
    .section.in h2::after{transform:scaleX(1)}
    .sub{color:var(--muted); margin:0 auto 26px; width:min(860px, 92%); text-align:center; font-size:19px}

    /* Hero */
    .hero{padding: clamp(88px, 12vw, 150px) 0 100px; border-bottom:1px solid var(--border)}
    .hero__wrap{display:grid; grid-template-columns: 1.5fr 1fr; align-items:center; gap:34px}
    .hero__text h1{
      margin:0 0 12px; font: 700 clamp(32px, 4.8vw, 56px) "Playfair Display", serif; white-space:nowrap;
      background: linear-gradient(120deg, #fff 0%, #fff 40%, var(--gold) 60%, #fff 80%); -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow:0 8px 28px rgba(255,61,106,.32);
      animation:sheen 7s linear infinite;
    }
    .hero__text p{margin:0 0 26px; color:var(--muted); font-size:19px}

    /* Hero carousel */
    .hero-carousel{
      position:relative; border-radius: var(--radius); overflow:hidden; box-shadow:var(--shadow);
      border:1px solid var(--border); background:#000; aspect-ratio:16/9;
    }
    .hero-carousel .track{display:flex; width:100%; height:100%; transition: transform .8s cubic-bezier(.2,.8,.2,1)}
    .hero-carousel .slide{min-width:100%; height:100%}
    .hero-carousel img{width:100%; height:100%; object-fit:cover; display:block; filter:saturate(1.1) contrast(1.05)}
    .hero-carousel .nav{position:absolute; inset:auto 12px 12px auto; display:flex; gap:8px; z-index:2; background: rgba(0,0,0,.25); padding:6px 8px; border-radius:999px; border:1px solid var(--border); backdrop-filter: blur(6px)}
    .hero-carousel .dot{width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,.5); box-shadow:0 0 0 1px rgba(255,255,255,.35) inset; transition:transform .2s, background .2s}
    .hero-carousel .dot.active{background: linear-gradient(135deg, var(--rose), var(--gold)); transform:scale(1.25)}

    /* Cards */
    .grid-2{display:grid; grid-template-columns:1fr 1fr; gap:30px}
    .card{padding:26px; border-radius:18px; background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border:1px solid var(--border); box-shadow:var(--shadow); position:relative; overflow:hidden}
    .card::before{
      content:""; position:absolute; inset:-1px; border-radius:inherit; z-index:0;
      background: conic-gradient(from 0deg at 50% 50%, rgba(255,61,106,.35), rgba(255,183,3,.3), rgba(122,77,255,.3), rgba(43,245,255,.22), rgba(255,61,106,.35));
      filter: blur(12px); opacity:.25; pointer-events:none;
      mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude; padding:1px;
    }
    .card h3{margin:0 0 12px; font-size:22px}
    .list{margin:0; padding-left:20px}
    .features{display:grid; gap:10px; padding-left:20px}
    .tilt{transform-style:preserve-3d; perspective:1000px; will-change:transform; transition:transform .12s ease}

    /* VIDEO: 2 вертикальных ролика, аккуратнее по размеру */
    .video-grid{
      display:grid; grid-template-columns: repeat(2, 1fr); gap:20px; place-items:center;
    }
    .video{border-radius:18px; overflow:hidden; border:1px solid var(--border); background:#000; box-shadow:var(--shadow); display:flex; align-items:center; justify-content:center}
    .video-vert{ aspect-ratio: 9 / 16; height: clamp(360px, 55vh, 620px); } /* задаём высоту, ширина подстроится */
    .video-vert video{ width:100%; height:100%; object-fit:cover; display:block; outline:none }

    /* Gallery */
    .gallery{display:grid; grid-template-columns:repeat(2, 1fr); gap:18px}
    @media(min-width:1100px){ .gallery{grid-template-columns:repeat(3, 1fr)} }
    .gallery img{
      width:100%; height:420px; object-fit:cover; border-radius:16px; border:1px solid var(--border);
      transform:translateZ(0); transition: transform .35s ease, box-shadow .35s ease, filter .35s ease;
      filter:saturate(1.12) contrast(1.06);
      box-shadow: 0 14px 30px rgba(0,0,0,.35);
      cursor:zoom-in;
    }
    .gallery img:hover{transform:scale(1.035); box-shadow:0 22px 46px rgba(0,0,0,.5)}

    /* Lightbox */
    .lightbox{position:fixed; inset:0; background:rgba(6,3,10,.92); display:none; align-items:center; justify-content:center; z-index:100}
    .lightbox.show{display:flex}
    .lb-stage{position:relative; max-width:94vw; max-height:88vh; overflow:hidden; border-radius:16px; border:1px solid var(--border); box-shadow:var(--shadow)}
    .lightbox img{display:block; transform-origin:center; user-select:none; -webkit-user-drag:none}
    .lightbox .ui{position:absolute; inset:auto 0 0 0; display:flex; justify-content:center; gap:10px; padding:10px}
    .lightbox .btn{padding:10px 12px}
    .lb-close, .lb-prev, .lb-next{
      position:absolute; top:18px; width:44px; height:44px; display:grid; place-items:center;
      background:var(--glass); border:1px solid var(--border); color:#fff; border-radius:50%; cursor:pointer; box-shadow:var(--shadow)
    }
    .lb-close{right:18px}
    .lb-prev{left:18px; top:calc(50% - 22px)}
    .lb-next{right:18px; top:calc(50% - 22px)}

    /* Contacts / Footer */
    .contacts p{margin:.35em 0; font-size:18.5px}
    .contacts a{color:#fff; text-decoration:none; border-bottom:1px dashed rgba(255,255,255,.4)}
    .contacts a:hover{color:var(--gold); border-color:transparent}
    .footer{padding:30px 0 0; border-top:1px solid var(--border); color:var(--muted); background:rgba(0,0,0,.18)}
    .footer__wrap{display:flex; justify-content:space-between; align-items:center}
    .small{font-size:13px; opacity:.85; margin:0}

    /* Reveal */
    .reveal{opacity:0; transform: translateY(18px); transition: all .85s cubic-bezier(.2,.8,.2,1)}
    .reveal.in{opacity:1; transform:none}

    /* To top */
    .to-top{position:fixed; right:18px; bottom:18px; z-index:20; opacity:0; pointer-events:none; transition:opacity .3s ease}
    .to-top.show{opacity:1; pointer-events:auto}

    /* Responsive */
    @media (max-width: 980px){
      .hero__wrap{grid-template-columns:1fr}
      .video-grid{grid-template-columns: 1fr}
      .section h2{font-size: clamp(28px, 8vw, 42px)}
      .logo{font-size:26px}
      .hero__text h1{font-size: clamp(26px, 8vw, 40px)}
    }
    @media (max-width: 900px){
      .nav{display:none}
      .burger{display:block}
      body.menu-open .nav{
        display:flex; position:fixed; inset:var(--header-h) 0 auto 0; padding:14px; z-index:60;
        background: rgba(16,7,24,.98); border-bottom:1px solid var(--border); box-shadow:var(--shadow);
        flex-direction:column; gap:8px
      }
      .grid-2{grid-template-columns:1fr}
      .gallery{grid-template-columns:1fr}
      .gallery img{height:360px}
    }
    @media (prefers-reduced-motion: reduce){
      *{animation: none !important; transition:none !important}
      html{scroll-behavior:auto}
    }
  </style>
</head>
<body>
  <div class="progress" id="progress"></div>
  <div class="cursor" id="cursor"></div>

  <header class="header">
    <div class="container header__wrap">
      <div class="logo">Цыгане на праздник</div>

      <nav class="nav" id="mainNav">
        <span class="nav__pill" id="navPill"></span>
        <a href="#about" data-target="#about">О нас</a>
        <a href="#program" data-target="#program">Программа</a>
        <a href="#video" data-target="#video">Видео</a>
        <a href="#gallery" data-target="#gallery">Галерея</a>
        <a href="#contacts" data-target="#contacts">Контакты</a>
      </nav>

      <button class="burger" aria-label="Меню" onclick="document.body.classList.toggle('menu-open')">☰</button>
    </div>
  </header>

  <!-- HERO -->
  <section class="section themed hero" id="top" data-theme="rose-gold">
    <div class="container hero__wrap">
      <!-- Карусель фото (слева) -->
      <div class="hero-carousel reveal tilt" data-tilt id="heroCarousel" aria-label="Фото карусель">
        <div class="track">
          <div class="slide"><img src="img/photo_01.jpg" alt="Цыгане на праздник 1"></div>
          <div class="slide"><img src="img/photo_02.jpg" alt="Цыгане на праздник 2"></div>
          <div class="slide"><img src="img/photo_03.jpg" alt="Цыгане на праздник 3"></div>
          <div class="slide"><img src="img/photo_04.jpg" alt="Цыгане на праздник 4"></div>
          <div class="slide"><img src="img/photo_05.jpg" alt="Цыгане на праздник 5"></div>
          <div class="slide"><img src="img/photo_06.jpg" alt="Цыгане на праздник 6"></div>
        </div>
        <div class="nav" aria-hidden="true" style="position:absolute;right:12px;bottom:12px;background:rgba(0,0,0,.25);padding:6px 8px;border-radius:999px;border:1px solid var(--border);backdrop-filter:blur(6px)">
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </div>
      </div>

      <!-- Текст справа -->
      <div class="hero__text reveal">
        <h1 style="text-align:center;">Цыгане на праздник</h1>
        <p style="text-align:center;">Песни, танцы и энергия сцены. Живой звук. 4 солиста. Яркое шоу для любых площадок.</p>
        <div style="text-align:center;"><a href="#contacts" class="btn btn--primary">Забронировать дату</a></div>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="section themed" data-theme="violet-cyan">
    <div class="container">
      <h2>О нас</h2>
      <p class="sub">Мы выходим к гостям с чаркой под песню «Пей до дна», танцами и яркими интерактивами. Работаем с каждым гостем. Камерные вечера и большие сцены — одинаково уверенно.</p>
      <ul class="features reveal">
        <li>Живой вокал и танцы</li>
        <li>Всеми любимые цыганские песни</li>
        <li>Интерактив с залом</li>
      </ul>
    </div>
  </section>

  <!-- PROGRAM -->
  <section id="program" class="section themed" data-theme="gold-amber">
    <div class="container">
      <h2>Программа</h2>
      <div class="grid-2">
        <div class="card reveal tilt" data-tilt>
          <h3>Состав программы</h3>
          <ul class="list">
            <li>«Величальная»</li>
            <li>«Мохнатый шмель», «Дорогой длинною», «Гитара мается» и другие</li>
            <li>Танцевальные выходы, чечётки</li>
            <li>Предсказания, хоровод, фотофинал</li>
          </ul>
        </div>
        <div class="card reveal tilt" data-tilt>
          <h3>Что мы предлагаем</h3>
          <ul class="list">
            <li>Встреча с чаркой, как в фильме «Жестокий романс»</li>
            <li>Живое исполнение цыганских хитов</li>
            <li>Лёгкие интерактивы и гадание</li>
            <li>Множество программ и 3 вида костюмов</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- VIDEO: 2 вертикальных ролика -->
  <section id="video" class="section themed" data-theme="rose-violet">
    <div class="container">
      <h2>Видео</h2>
      <div class="video-grid">
        <div class="video video-vert reveal tilt" data-tilt>
          <video controls preload="metadata" poster="img/photo_01.jpg" playsinline>
            <source src="video/clip1.mp4" type="video/mp4">
            Ваш браузер не поддерживает тег video.
          </video>
        </div>
        <div class="video video-vert reveal tilt" data-tilt>
          <video controls preload="metadata" poster="img/photo_02.jpg" playsinline>
            <source src="video/clip2.mp4" type="video/mp4">
            Ваш браузер не поддерживает тег video.
          </video>
        </div>
      </div>
    </div>
  </section>

  <!-- GALLERY -->
  <section id="gallery" class="section themed" data-theme="cyan-violet">
    <div class="container">
      <h2>Галерея</h2>
      <div class="gallery">
        <img class="reveal" src="img/photo_01.jpg" alt="Цыгане на праздник — фото 1" loading="lazy" />
        <img class="reveal" src="img/photo_02.jpg" alt="Цыгане на праздник — фото 2" loading="lazy" />
        <img class="reveal" src="img/photo_03.jpg" alt="Цыгане на праздник — фото 3" loading="lazy" />
        <img class="reveal" src="img/photo_04.jpg" alt="Цыгане на праздник — фото 4" loading="lazy" />
        <img class="reveal" src="img/photo_05.jpg" alt="Цыгане на праздник — фото 5" loading="lazy" />
        <img class="reveal" src="img/photo_06.jpg" alt="Цыгане на праздник — фото 6" loading="lazy" />
      </div>
    </div>
  </section>

  <!-- CONTACTS -->
  <section id="contacts" class="section themed" data-theme="gold-rose">
    <div class="container">
      <h2>Контакты и бронирование</h2>
      <div class="contacts reveal" style="text-align:center;">
        <p>Телефон: <a href="tel:+79282589678">+7 (928) 258‑96‑78</a></p>
        <p>Телефон: <a href="tel:+79284072037">+7 (928) 407‑20‑37</a></p>
        <p>Instagram: <a href="https://instagram.com/tsigane_na_prazdnik" target="_blank" rel="noopener">tsigane_na_prazdnik</a></p>
        <p>ВКонтакте: <a href="https://vk.com/tsigane_na_prazdnik" target="_blank" rel="noopener">vk.com/tsigane_na_prazdnik</a></p>
        <div style="margin-top:18px">
          <a href="#about" class="btn btn--primary">Посмотреть программу</a>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container footer__wrap">
      <div>© gypsy-show.ru</div>
      <div class="small">Сделано с любовью к музыке</div>
    </div>
  </footer>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <button class="lb-close" aria-label="Закрыть" title="Закрыть">✕</button>
    <button class="lb-prev" aria-label="Назад" title="Назад">‹</button>
    <div class="lb-stage"><img id="lbImg" src="" alt="Просмотр изображения"></div>
    <button class="lb-next" aria-label="Вперёд" title="Вперёд">›</button>
    <div class="ui">
      <a class="btn btn--outlined" id="lbZoomOut">−</a>
      <a class="btn btn--outlined" id="lbZoomReset">100%</a>
      <a class="btn btn--outlined" id="lbZoomIn">+</a>
    </div>
  </div>

  <!-- To top -->
  <div class="to-top" id="toTop"><a class="btn btn--outlined" href="#top" onclick="window.scrollTo({top:0, behavior:'smooth'})">▲</a></div>

  <script>
    const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // Progress bar + ToTop
    const progress = document.getElementById('progress');
    const onScroll = () => {
      const y = window.scrollY || document.documentElement.scrollTop;
      const h = document.documentElement.scrollHeight - window.innerHeight;
      progress.style.width = (y / h * 100) + '%';
      document.getElementById('toTop').classList.toggle('show', y > 600);
    };
    onScroll(); window.addEventListener('scroll', onScroll);

    // Button ripple
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('.btn');
      if (!btn) return;
      const old = btn.querySelector('.ripple'); if (old) old.remove();
      const rect = btn.getBoundingClientRect();
      const d = Math.max(btn.clientWidth, btn.clientHeight);
      const x = e.clientX - rect.left - d/2; const y = e.clientY - rect.top - d/2;
      const s = document.createElement('span'); s.className='ripple';
      s.style.width = s.style.height = d + 'px'; s.style.left = x + 'px'; s.style.top = y + 'px';
      btn.appendChild(s); setTimeout(()=>s.remove(), 650);
    });

    // Reveal sections
    const sections = document.querySelectorAll('.section');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach((en)=>{
        if (en.isIntersecting){
          en.target.classList.add('in');
          en.target.querySelectorAll?.('.reveal').forEach(el=>el.classList.add('in'));
          io.unobserve(en.target);
        }
      });
    }, {rootMargin:'0px 0px -12% 0px', threshold:.18});
    sections.forEach(sec=>io.observe(sec));

    // Smooth cursor with a tiny lag (lightweight)
    (function(){
      if (reduced) { document.getElementById('cursor')?.remove(); return; }
      const c = document.getElementById('cursor'); if (!c) return;
      let tx = innerWidth/2, ty = innerHeight/2, x = tx, y = ty;
      window.addEventListener('mousemove', e => { tx = e.clientX; ty = e.clientY; }, {passive:true});
      function raf(){ x += (tx - x)*0.18; y += (ty - y)*0.18; c.style.transform = `translate(${x}px, ${y}px) translate(-50%,-50%)`; requestAnimationFrame(raf) }
      requestAnimationFrame(raf);
      ['mouseleave','blur','mousedown'].forEach(ev=>window.addEventListener(ev, ()=>document.body.classList.add('cursor-hide')));
      ['mouseenter','focus','mouseup'].forEach(ev=>window.addEventListener(ev, ()=>document.body.classList.remove('cursor-hide')));
    })();

    // Parallax tilt (lightweight)
    if (!reduced){
      document.querySelectorAll('[data-tilt]').forEach(el=>{
        el.addEventListener('mousemove', (e)=>{
          const r = el.getBoundingClientRect();
          const x = e.clientX - r.left; const y = e.clientY - r.top;
          const rx = ((y / r.height) - .5) * -6;
          const ry = ((x / r.width) - .5) * 6;
          el.style.transform = `perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg)`;
        });
        el.addEventListener('mouseleave', ()=> el.style.transform='perspective(900px) rotateX(0) rotateY(0)');
      });
    }

    // HERO CAROUSEL (autoplay every 2s, pause on hover, swipe)
    (function(){
      const root = document.getElementById('heroCarousel');
      if (!root) return;
      const track = root.querySelector('.track');
      const dots = [...root.querySelectorAll('.dot')];
      let i = 0, N = root.querySelectorAll('.slide').length, timer;

      function go(n, instant=false){
        i = (n + N) % N;
        track.style.transition = instant ? 'none' : 'transform .8s cubic-bezier(.2,.8,.2,1)';
        track.style.transform = `translateX(-${i*100}%)`;
        dots.forEach((d,k)=>d.classList.toggle('active', k===i));
      }
      function play(){ stop(); timer = setInterval(()=>go(i+1), 2000); }
      function stop(){ if (timer) clearInterval(timer); }

      dots.forEach((d,k)=> d.addEventListener('click', ()=>{ go(k); play(); }));

      let startX=0, dx=0, touching=false;
      root.addEventListener('pointerdown', (e)=>{ touching=true; startX=e.clientX; dx=0; stop(); root.setPointerCapture(e.pointerId); });
      root.addEventListener('pointermove', (e)=>{ if(!touching) return; dx = e.clientX - startX; track.style.transition='none'; track.style.transform=`translateX(calc(-${i*100}% + ${dx}px))`; });
      root.addEventListener('pointerup', (e)=>{ if(!touching) return; touching=false; root.releasePointerCapture(e.pointerId);
        if (dx > 80) go(i-1); else if (dx < -80) go(i+1); else go(i);
        play();
      });
      root.addEventListener('mouseenter', stop);
      root.addEventListener('mouseleave', play);
      go(0, true); play();
    })();

    // Nav pill + smooth scroll with header offset
    (function(){
      const nav = document.getElementById('mainNav');
      const pill = document.getElementById('navPill');
      const links = [...nav.querySelectorAll('a')];
      const sectionsById = Object.fromEntries(links.map(a => [a.dataset.target || a.getAttribute('href'), document.querySelector(a.dataset.target || a.getAttribute('href'))]));

      function movePill(toEl){
        if (!toEl) return;
        const r = toEl.getBoundingClientRect();
        const nr = nav.getBoundingClientRect();
        pill.style.width = r.width + 'px';
        pill.style.height = r.height + 'px';
        pill.style.transform = `translate(${r.left - nr.left}px, ${r.top - nr.top}px)`;
      }
      function activate(a){
        links.forEach(l=>l.classList.toggle('active', l===a));
        movePill(a);
      }
      // Initial
      requestAnimationFrame(()=>activate(links[0]));

      // Smooth scroll with offset
      links.forEach(a=>{
        a.addEventListener('click', (e)=>{
          e.preventDefault();
          const sel = a.dataset.target || a.getAttribute('href');
          const el = sectionsById[sel];
          if (!el) return;
          const y = el.getBoundingClientRect().top + window.pageYOffset - (document.querySelector('.header').offsetHeight - 6);
          activate(a);
          window.scrollTo({ top: y, behavior: 'smooth' });
          history.pushState(null, '', sel);
          document.body.classList.remove('menu-open');
        });
      });

      // Set active by scroll
      const io2 = new IntersectionObserver((entries)=>{
        entries.forEach(en=>{
          if (en.isIntersecting){
            const a = links.find(l => (l.dataset.target || l.getAttribute('href')) === '#'+en.target.id);
            if (a) activate(a);
          }
        });
      }, {rootMargin:'-40% 0px -55% 0px', threshold:0.01});
      Object.values(sectionsById).forEach(sec => sec && io2.observe(sec));

      window.addEventListener('resize', ()=>movePill(nav.querySelector('a.active')));
    })();

    // Lightbox with Zoom/Pan
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const imgs = [...document.querySelectorAll('.gallery img')];
    let idx = 0, scale = 1, pos = {x:0,y:0}, dragging=false, start={x:0,y:0};
    function openLb(i){ idx=i; load(); lb.classList.add('show'); document.body.style.overflow='hidden'; resetZoom(); }
    function closeLb(){ lb.classList.remove('show'); document.body.style.overflow=''; }
    function load(){ lbImg.src = imgs[idx].src; }
    function resetZoom(){ scale = 1; pos.x=0; pos.y=0; applyTransform(); }
    function applyTransform(){ lbImg.style.transform = `translate(${pos.x}px, ${pos.y}px) scale(${scale})`; }
    function clamp(val, min, max){ return Math.max(min, Math.min(max, val)); }
    imgs.forEach((img,i)=> img.addEventListener('click', ()=>openLb(i)));
    lb.querySelector('.lb-close').addEventListener('click', closeLb);
    lb.querySelector('.lb-prev').addEventListener('click', ()=>{ idx=(idx-1+imgs.length)%imgs.length; load(); resetZoom(); });
    lb.querySelector('.lb-next').addEventListener('click', ()=>{ idx=(idx+1)%imgs.length; load(); resetZoom(); });
    lb.addEventListener('click', (e)=>{ if (e.target===lb) closeLb(); });
    document.addEventListener('keydown', (e)=>{ if (!lb.classList.contains('show')) return;
      if (e.key==='Escape') closeLb();
      if (e.key==='ArrowRight') lb.querySelector('.lb-next').click();
      if (e.key==='ArrowLeft') lb.querySelector('.lb-prev').click();
    });
    document.getElementById('lbZoomIn').addEventListener('click', ()=>{ scale = clamp(scale+0.25, 1, 4); applyTransform(); });
    document.getElementById('lbZoomOut').addEventListener('click', ()=>{ scale = clamp(scale-0.25, 1, 4); if(scale===1){pos.x=pos.y=0} applyTransform(); });
    document.getElementById('lbZoomReset').addEventListener('click', ()=>{ resetZoom(); });

    // Close mobile menu on outside click
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.header') && document.body.classList.contains('menu-open')) {
        document.body.classList.remove('menu-open');
      }
    });
  </script>
</body>
</html>
