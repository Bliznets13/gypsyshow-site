<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Цыгане на праздник — Краснодар, Сочи, Геленджик, Новороссийск, Анапа, Армавир, Ялта, Симферополь, Ставрополь | Живой вокал и танцы</title>
  <meta name="description" content="Цыганское шоу на свадьбы, юбилеи и корпоративы: живой вокал, танцы, интерактив. Выезжаем в Краснодар, Сочи, Геленджик, Новороссийск, Анапу, Армавир, Ялту, Симферополь, Ставрополь и соседние города Краснодарского края, Крыма и Ставрополья. Бронирование: +7 (928) 258‑96‑78.">
  <link rel="alternate" hreflang="ru" href="https://www.gypsy-show.ru/">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

  <!-- Canonical / Icons -->
  <link rel="canonical" href="https://www.gypsy-show.ru/">
  <link rel="icon" href="img/favicon.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="img/apple-touch-icon.png" sizes="180x180">
  <meta name="theme-color" content="#100612">

  <!-- Open Graph -->
  <meta property="og:title" content="Цыгане на праздник — шоу в Краснодаре, Сочи и по краю">
  <meta property="og:description" content="Живой вокал и цыганские танцы для свадеб, юбилеев и корпоративов. Выезд: Краснодар, Сочи, Геленджик, Новороссийск, Анапа, Армавир, Ялта, Симферополь, Ставрополь и соседние города.">
  <meta property="og:image" content="https://www.gypsy-show.ru/img/cover.jpg">
  <meta property="og:url" content="https://www.gypsy-show.ru/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Цыгане на праздник">
  <meta property="og:locale" content="ru_RU">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Цыгане на праздник — шоу в Краснодаре, Сочи и по краю">
  <meta name="twitter:description" content="Живой вокал и цыганские танцы. Свадьбы, юбилеи, корпоративы. Выезд по Краснодарскому краю, Крыму и Ставрополью.">
  <meta name="twitter:image" content="https://www.gypsy-show.ru/img/cover.jpg">

  <!-- JSON-LD: PerformingGroup (города + регионы) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "PerformingGroup",
    "name": "Цыгане на праздник",
    "url": "https://www.gypsy-show.ru/",
    "image": "https://www.gypsy-show.ru/img/cover.jpg",
    "telephone": ["+7-928-258-96-78", "+7-928-407-20-37"],
    "sameAs": [
      "https://instagram.com/tsigane_na_prazdnik",
      "https://vk.com/tsigane_na_prazdnik"
    ],
    "areaServed": [
      {"@type": "City", "name": "Краснодар"},
      {"@type": "City", "name": "Сочи"},
      {"@type": "City", "name": "Геленджик"},
      {"@type": "City", "name": "Новороссийск"},
      {"@type": "City", "name": "Анапа"},
      {"@type": "City", "name": "Армавир"},
      {"@type": "City", "name": "Ялта"},
      {"@type": "City", "name": "Симферополь"},
      {"@type": "City", "name": "Ставрополь"},
      {"@type": "AdministrativeArea", "name": "Краснодарский край"},
      {"@type": "AdministrativeArea", "name": "Республика Крым"},
      {"@type": "AdministrativeArea", "name": "Ставропольский край"}
    ],
    "description": "Цыганское шоу: живой вокал, танцы и интерактив. Выезд в Краснодар, Сочи, Геленджик, Новороссийск, Анапу, Армавир, Ялту, Симферополь, Ставрополь и соседние города."
  }
  </script>

  <!-- JSON-LD: FAQPage (для ПС). Отдельный видимый блок FAQ есть ниже -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "В каких городах вы выступаете?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Регулярно работаем в Краснодаре, Сочи, Геленджике, Новороссийске, Анапе, Армавире, Ялте, Симферополе и Ставрополе. Выезжаем также в соседние города Краснодарского края, Крыма и Ставрополья."
        }
      },
      {
        "@type": "Question",
        "name": "Под какой формат подходит программа?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Свадьбы, юбилеи, корпоративы и городские праздники. Живой вокал, танцевальные номера, интерактив с гостями, по запросу — встреча с чаркой."
        }
      },
      {
        "@type": "Question",
        "name": "Сколько длится выступление и какой состав?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Классический блок 20–40 минут. В составе — 4 солиста. По запросу адаптируем длительность и наполнение под площадку и сценарий."
        }
      },
      {
        "@type": "Question",
        "name": "Как узнать цену и свободные даты?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Позвоните по телефонам +7 (928) 258‑96‑78 или +7 (928) 407‑20‑37 — уточним детали площадки и предложим варианты по бюджету."
        }
      }
    ]
  }
  </script>

  <!-- JSON-LD: Video list (без обязательных дат загрузки) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "itemListElement": [
      {
        "@type": "VideoObject",
        "name": "Цыганское шоу — видео 1",
        "thumbnailUrl": "https://www.gypsy-show.ru/video/clip1.jpg",
        "contentUrl": "https://www.gypsy-show.ru/video/clip1.mp4",
        "description": "Фрагмент цыганского шоу: живой вокал, танцы и интерактив с гостями."
      },
      {
        "@type": "VideoObject",
        "name": "Цыганское шоу — видео 2",
        "thumbnailUrl": "https://www.gypsy-show.ru/video/clip2.jpg",
        "contentUrl": "https://www.gypsy-show.ru/video/clip2.mp4",
        "description": "Хиты цыганского репертуара и танцевальные номера."
      },
      {
        "@type": "VideoObject",
        "name": "Цыганское шоу — видео 3",
        "thumbnailUrl": "https://www.gypsy-show.ru/video/clip3.jpg",
        "contentUrl": "https://www.gypsy-show.ru/video/clip3.mp4",
        "description": "Выступление на празднике: ансамбль, вокал и атмосфера."
      }
    ]
  }
  </script>

  <style>
    :root{
      --header-h: 76px;
      --bg:#0c0611; --bg2:#13081a;
      --text:#fff4fb; --muted:#d9cfe1;
      --gold:#ffb703; --rose:#ff3d6a; --violet:#7a4dff; --cyan:#2bf5ff; --amber:#ff7b00;
      --glass: rgba(255,255,255,.06); --border: rgba(255,255,255,.18);
      --radius:18px; --shadow: 0 12px 40px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; color:var(--text);
      font-family: Montserrat, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      line-height:1.7; font-size:17.5px;
      background:
        radial-gradient(1200px 700px at 0% 0%, #2d0e41 0%, transparent 60%),
        radial-gradient(900px 600px at 100% 0%, #3c0e2c 0%, transparent 60%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
      overflow-x:hidden;
    }

    .progress{position:fixed; top:0; left:0; height:3px; width:0%; background: linear-gradient(90deg, var(--rose), var(--gold), var(--violet)); z-index:1000; box-shadow:0 0 12px rgba(255,255,255,.4)}

    .cursor{
      position:fixed; left:0; top:0; width:20px; height:20px; border-radius:50%;
      border:1px solid rgba(255,255,255,.45);
      box-shadow:0 0 10px rgba(255,255,255,.25);
      transform:translate(-50%,-50%); pointer-events:none; z-index:999;
      transition: opacity .3s ease; mix-blend-mode:screen; opacity:.9;
    }
    .cursor-hide .cursor{opacity:0}
    @media (pointer:coarse), (hover:none){ .cursor{display:none !important} }

    .header{
      position:sticky; top:0; z-index:50; height:var(--header-h);
      backdrop-filter: blur(10px);
      background: linear-gradient(90deg, rgba(12,6,17,.8), rgba(15,7,26,.55));
      border-bottom:1px solid var(--border);
    }
    .container{width:min(1200px, 92%); margin-inline:auto}
    .header__wrap{display:flex; align-items:center; justify-content:space-between; gap:20px; height:var(--header-h)}
    .logo{
      font: 700 30px "Playfair Display", serif; letter-spacing:.5px; white-space:nowrap;
      background: linear-gradient(120deg, #fff 20%, var(--gold) 45%, #fff 65%, var(--rose) 85%);
      -webkit-background-clip:text; background-clip:text; color:transparent; animation:sheen 6s linear infinite;
    }
    @keyframes sheen{0%{background-position:0%}100%{background-position:200%}}

    .nav{position:relative; display:flex; gap:10px; align-items:center; padding:6px; border-radius:16px; background: rgba(255,255,255,.05); backdrop-filter: blur(6px)}
    .nav a{position:relative; z-index:1; color:#e9deef; text-decoration:none; font-weight:600; padding:10px 14px; border-radius:12px; white-space:nowrap; transition:color .2s ease}
    .nav a:hover{color:#fff}
    .nav__pill{
      position:absolute; left:0; top:0; width:0; height:0; border-radius:12px;
      background: linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.25);
      box-shadow: 0 6px 20px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.08);
      transition: transform .28s cubic-bezier(.2,.8,.2,1), width .2s ease, height .2s ease;
      z-index:0; pointer-events:none;
    }
    .burger{display:none; font-size:26px; border:none; background:transparent; color:#fff}

    .btn{
      --padX:24px;
      position:relative; display:inline-flex; align-items:center; justify-content:center; cursor:pointer; user-select:none;
      padding:13px var(--padX); border-radius:999px; border:1px solid transparent; text-decoration:none; font-weight:700; letter-spacing:.2px;
      transition: transform .12s ease, filter .25s ease, box-shadow .25s ease;
      box-shadow: 0 10px 26px rgba(255, 61, 106, .28); overflow:hidden; isolation:isolate; font-size:17px;
    }
    .btn--primary{ color:#120510; background: linear-gradient(135deg, var(--rose) 0%, #ff6e8e 35%, var(--gold) 100%); background-size:200% 200%; animation:gradMove 8s ease infinite }
    .btn--outlined{color:#fff; border-color:rgba(255,255,255,.35); background:transparent}
    .btn:hover{transform:translateY(-2px); filter:brightness(1.05)}
    .btn:active{transform:translateY(0)}
    @keyframes gradMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .btn span.ripple{position:absolute; border-radius:50%; transform:scale(0); background:rgba(255,255,255,.6); animation:ripple 600ms linear; pointer-events:none}
    @keyframes ripple{to{transform:scale(4); opacity:0}}

    section{scroll-margin-top: calc(var(--header-h) + 12px)}
    .section{padding:96px 0; position:relative; overflow:hidden}
    .section[data-theme]{--acc1: var(--rose); --acc2: var(--gold); --acc3: var(--violet)}
    .section.themed::before{content:""; position:absolute; inset:-20% -10%; z-index:-1; filter: blur(60px); opacity:.5; background: conic-gradient(from 180deg at 30% 40%, rgba(255,61,106,.22), rgba(255,183,3,.2), rgba(122,77,255,.2), rgba(43,245,255,.18), rgba(255,61,106,.22)); animation: spin 28s linear infinite}
    .section.themed::after{content:""; position:absolute; left:-30vw; right:-30vw; top:0; height:2px; opacity:.7; background: linear-gradient(90deg, var(--acc1), var(--acc2), var(--acc3)); transform: translateX(-30vw); transition: transform 1s ease .2s}
    .section.in::after{transform: translateX(30vw)}
    @keyframes spin{to{transform:rotate(360deg)}}
    .section h2{ text-align:center; font: 700 clamp(34px, 5vw, 64px) "Playfair Display", serif; margin:0 0 20px; background: linear-gradient(120deg, #fff 0%, #fff 40%, var(--acc1) 60%, var(--acc2) 80%); -webkit-background-clip:text; background-clip:text; color:transparent; white-space:nowrap }
    .section h2::after{ content:""; display:block; width:min(240px, 40%); height:4px; margin:14px auto 0; border-radius:999px; background: linear-gradient(90deg, var(--acc1), var(--acc2)); box-shadow:0 6px 16px rgba(0,0,0,.25); transform: scaleX(.6); opacity:.9; transition: transform .8s ease }
    .section.in h2::after{transform:scaleX(1)}
    .sub{color:var(--muted); margin:0 auto 26px; width:min(980px, 92%); text-align:center; font-size:19px}

    .hero{padding: clamp(88px, 12vw, 150px) 0 100px; border-bottom:1px solid var(--border)}
    .hero__wrap{display:grid; grid-template-columns: 1.5fr 1fr; align-items:center; gap:34px}
    .hero__text h1{ margin:0 0 12px; font: 700 clamp(32px, 4.8vw, 56px) "Playfair Display", serif; white-space:nowrap; background: linear-gradient(120deg, #fff 0%, #fff 40%, var(--gold) 60%, #fff 80%); -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 8px 28px rgba(255,61,106,.32); animation:sheen 7s linear infinite }
    .hero__text p{margin:0 0 26px; color:var(--muted); font-size:19px}

    .hero-carousel{position:relative; border-radius: var(--radius); overflow:hidden; box-shadow:var(--shadow); border:1px solid var(--border); background:#000; aspect-ratio:16/9}
    .hero-carousel .track{display:flex; width:100%; height:100%; transition: transform .8s cubic-bezier(.2,.8,.2,1)}
    .hero-carousel .slide{min-width:100%; height:100%}
    .hero-carousel img{width:100%; height:100%; object-fit:cover; display:block; filter:saturate(1.1) contrast(1.05)}
    .hero-carousel .nav{position:absolute; right:12px; bottom:12px; display:flex; gap:8px; z-index:2; background: rgba(0,0,0,.25); padding:6px 8px; border-radius:999px; border:1px solid var(--border); backdrop-filter: blur(6px)}
    .hero-carousel .dot{width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,.5); box-shadow:0 0 0 1px rgba(255,255,255,.35) inset; transition:transform .2s, background .2s}
    .hero-carousel .dot.active{background: linear-gradient(135deg, var(--rose), var(--gold)); transform:scale(1.25)}

    .grid-2{display:grid; grid-template-columns:1fr 1fr; gap:30px}
    .card{padding:26px; border-radius:18px; background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border:1px solid var(--border); box-shadow:var(--shadow); position:relative; overflow:hidden}
    .card::before{content:""; position:absolute; inset:-1px; border-radius:inherit; z-index:0; background: conic-gradient(from 0deg at 50% 50%, rgba(255,61,106,.35), rgba(255,183,3,.3), rgba(122,77,255,.3), rgba(43,245,255,.22), rgba(255,61,106,.35)); filter: blur(12px); opacity:.25; pointer-events:none; mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; padding:1px}
    .card h3{margin:0 0 12px; font-size:22px}
    .list{margin:0; padding-left:20px}
    .features{display:grid; gap:10px; padding-left:20px}
    .tilt{transform-style:preserve-3d; perspective:1000px; will-change:transform; transition:transform .12s ease}

    .video-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:20px; place-items:center }
    .video{ border-radius:18px; overflow:hidden; border:1px solid var(--border); background:#000; box-shadow:var(--shadow); display:flex; align-items:center; justify-content:center }
    .video-vert{ aspect-ratio: 9 / 16; height: clamp(360px, 55vh, 620px) }
    .video-vert video{ width:100%; height:100%; object-fit:cover; display:block; outline:none }

    .faq{max-width:980px; margin:0 auto}
    .faq details{background:rgba(255,255,255,.04); border:1px solid var(--border); border-radius:12px; padding:14px 18px; margin:10px 0; box-shadow:var(--shadow)}
    .faq summary{cursor:pointer; font-weight:700}
    .faq p{margin:.6em 0 0; color:var(--muted)}

    .gallery{display:grid; grid-template-columns:repeat(2, 1fr); gap:18px}
    @media(min-width:1100px){ .gallery{grid-template-columns:repeat(3, 1fr)} }
    .gallery img{ width:100%; height:420px; object-fit:cover; border-radius:16px; border:1px solid var(--border); transform:translateZ(0); transition: transform .35s ease, box-shadow .35s ease, filter .35s ease; filter:saturate(1.12) contrast(1.06); box-shadow: 0 14px 30px rgba(0,0,0,.35); cursor:zoom-in }
    .gallery img:hover{transform:scale(1.035); box-shadow:0 22px 46px rgba(0,0,0,.5)}

    .lightbox{position:fixed; inset:0; background:rgba(6,3,10,.92); display:none; align-items:center; justify-content:center; z-index:100}
    .lightbox.show{display:flex}
    .lb-stage{position:relative; max-width:94vw; max-height:88vh; overflow:hidden; border-radius:16px; border:1px solid var(--border); box-shadow:var(--shadow)}
    .lightbox img{display:block; transform-origin:center; user-select:none; -webkit-user-drag:none}
    .lightbox .ui{position:absolute; inset:auto 0 0 0; display:flex; justify-content:center; gap:10px; padding:10px}
    .lightbox .btn{padding:10px 12px}
    .lb-close, .lb-prev, .lb-next{ position:absolute; top:18px; width:44px; height:44px; display:grid; place-items:center; background:var(--glass); border:1px solid var(--border); color:#fff; border-radius:50%; cursor:pointer; box-shadow:var(--shadow) }
    .lb-close{right:18px}
    .lb-prev{left:18px; top:calc(50% - 22px)}
    .lb-next{right:18px; top:calc(50% - 22px)}

    .contacts p{margin:.35em 0; font-size:18.5px}
    .contacts a{color:#fff; text-decoration:none; border-bottom:1px dashed rgba(255,255,255,.4)}
    .contacts a:hover{color:var(--gold); border-color:transparent}
    .footer{padding:30px 0 0; border-top:1px solid var(--border); color:var(--muted); background:rgba(0,0,0,.18)}
    .footer__wrap{display:flex; justify-content:space-between; align-items:center}
    .small{font-size:13px; opacity:.85; margin:0}

    .reveal{opacity:0; transform: translateY(18px); transition: all .85s cubic-bezier(.2,.8,.2,1)}
    .reveal.in{opacity:1; transform:none}

    .to-top{position:fixed; right:18px; bottom:18px; z-index:20; opacity:0; pointer-events:none; transition:opacity .3s ease}
    .to-top.show{opacity:1; pointer-events:auto}

    /* Modal (бронь даты) */
    .modal{position:fixed; inset:0; background:rgba(8,4,12,.72); display:none; align-items:center; justify-content:center; z-index:200}
    .modal.show{display:flex}
    .modal__card{width:min(560px, 92vw); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border:1px solid var(--border); border-radius:18px; box-shadow:var(--shadow); padding:22px; position:relative; backdrop-filter: blur(10px)}
    .modal__title{margin:0 0 12px; font:700 26px "Playfair Display", serif}
    .modal__close{position:absolute; right:12px; top:12px; width:40px; height:40px; border-radius:50%; border:1px solid var(--border); background:var(--glass); color:#fff; cursor:pointer}
    .form{display:grid; gap:12px; margin-top:8px}
    .field{display:grid; gap:6px}
    .field label{font-weight:600}
    .input, .date, .select{width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--border); background:rgba(255,255,255,.05); color:#fff; font-size:16px}
    .hint{font-size:13px; color:var(--muted)}
    .success{margin-top:10px; color:#a8ffcf; font-weight:600; display:none}
    .success.show{display:block}

    @media (max-width: 1100px){ .video-grid{grid-template-columns: repeat(2, 1fr)} }
    @media (max-width: 980px){
      .hero__wrap{grid-template-columns:1fr}
      .section h2{font-size: clamp(28px, 8vw, 42px)}
      .logo{font-size:26px}
      .hero__text h1{font-size: clamp(26px, 8vw, 40px)}
      .video-grid{grid-template-columns: 1fr}
    }
    @media (max-width: 900px){
      .nav{display:none}
      .burger{display:block}
      body.menu-open .nav{ display:flex; position:fixed; inset:var(--header-h) 0 auto 0; padding:14px; z-index:60; background: rgba(16,7,24,.98); border-bottom:1px solid var(--border); box-shadow:var(--shadow); flex-direction:column; gap:8px }
      .grid-2{grid-template-columns:1fr}
      .gallery{grid-template-columns:1fr}
      .gallery img{height:360px}
    }
    @media (prefers-reduced-motion: reduce){ *{animation: none !important; transition:none !important} html{scroll-behavior:auto} }
  </style>
</head>
<body>
  <div class="progress" id="progress"></div>
  <div class="cursor" id="cursor"></div>

  <header class="header">
    <div class="container header__wrap">
      <div class="logo">Цыгане на праздник</div>

      <nav class="nav" id="mainNav">
        <span class="nav__pill" id="navPill"></span>
        <a href="#about" data-target="#about">О нас</a>
        <a href="#program" data-target="#program">Программа</a>
        <a href="#video" data-target="#video">Видео</a>
        <a href="#gallery" data-target="#gallery">Галерея</a>
        <a href="#faq" data-target="#faq">FAQ</a>
        <a href="#contacts" data-target="#contacts">Контакты</a>
      </nav>

      <button class="burger" aria-label="Меню" onclick="document.body.classList.toggle('menu-open')">☰</button>
    </div>
  </header>

  <!-- HERO -->
  <section class="section themed hero" id="top" data-theme="rose-gold">
    <div class="container hero__wrap">
      <div class="hero-carousel reveal tilt" data-tilt id="heroCarousel" aria-label="Фото карусель">
        <div class="track">
          <div class="slide"><img src="img/photo_01.jpg" alt="Цыгане на праздник — выступление на свадьбе"></div>
          <div class="slide"><img src="img/photo_02.jpg" alt="Цыганский ансамбль — танцевальный номер"></div>
          <div class="slide"><img src="img/photo_03.jpg" alt="Живой вокал и цыганские песни"></div>
          <div class="slide"><img src="img/photo_04.jpg" alt="Цыганское шоу — атмосфера праздника"></div>
          <div class="slide"><img src="img/photo_05.jpg" alt="Ансамбль — яркие костюмы и энергия"></div>
          <div class="slide"><img src="img/photo_06.jpg" alt="Цыгане на праздник — интерактив с гостями"></div>
        </div>
        <div class="nav">
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </div>
      </div>

      <div class="hero__text reveal">
        <h1 style="text-align:center;">Цыгане на праздник</h1>
        <p style="text-align:center;">Живой вокал и цыганские танцы для свадьбы, юбилея и корпоратива. Работаем на выезде: Краснодар, Сочи, Геленджик, Новороссийск, Анапа, Армавир, Ялта, Симферополь, Ставрополь — и соседние города.</p>
        <div style="text-align:center;">
          <button class="btn btn--primary" id="openBooking">Забронировать дату</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="section themed" data-theme="violet-cyan">
    <div class="container">
      <h2>О нас</h2>
      <p class="sub">Цыганское шоу с живым вокалом, танцами и лёгкими интерактивами: хиты, танцевальные выходы, фотофинал, по запросу — встреча с чаркой. Регулярно выступаем в Краснодаре, Сочи, Геленджике, Новороссийске, Анапе, Армавире, Ялте, Симферополе и Ставрополе, а также выезжаем в соседние города Краснодарского края, Крыма и Ставрополья.</p>
      <ul class="features reveal">
        <li>Живой вокал четырёх солистов и фирменные танцы</li>
        <li>Любимые цыганские хиты + интерактив с гостями</li>
        <li>Гибкая программа под площадку и тайминг</li>
      </ul>
    </div>
  </section>

  <!-- PROGRAM -->
  <section id="program" class="section themed" data-theme="gold-amber">
    <div class="container">
      <h2>Программа</h2>
      <div class="grid-2">
        <div class="card reveal tilt" data-tilt>
          <h3>Состав и репертуар</h3>
          <ul class="list">
            <li>4 солиста: вокал + танцы</li>
            <li>«Величальная», «Мохнатый шмель», «Дорогой длинною», «Гитара мается» и другие</li>
            <li>Чечётки, танцевальные выходы, яркие костюмы</li>
            <li>Финальный общий хоровод и фото</li>
          </ul>
        </div>
        <div class="card reveal tilt" data-tilt>
          <h3>Форматы и города</h3>
          <ul class="list">
            <li>Свадьбы, юбилеи, корпоративы, городские события</li>
            <li>Выезд: Краснодар, Сочи, Геленджик, Новороссийск, Анапа, Армавир, Ялта, Симферополь, Ставрополь</li>
            <li>Соседние города Краснодарского края, Крыма и Ставрополья — по договорённости</li>
            <li>Адаптируем длительность блока 20–40 минут под сценарий</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- VIDEO -->
  <section id="video" class="section themed" data-theme="rose-violet">
    <div class="container">
      <h2>Видео</h2>
    <p class="sub">Фрагменты выступлений: живой звук, танцы и драйвовая энергетика сцены.</p>
      <div class="video-grid">
        <div class="video video-vert reveal tilt" data-tilt>
          <video controls preload="metadata" playsinline poster="video/clip1.jpg" data-autoposter="1" data-base="video/clip1"></video>
        </div>
        <div class="video video-vert reveal tilt" data-tilt>
          <video controls preload="metadata" playsinline poster="video/clip2.jpg" data-autoposter="1" data-base="video/clip2"></video>
        </div>
        <div class="video video-vert reveal tilt" data-tilt>
          <video controls preload="metadata" playsinline poster="video/clip3.jpg" data-autoposter="1" data-base="video/clip3"></video>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ (видимый блок) -->
  <section id="faq" class="section themed" data-theme="cyan-violet">
    <div class="container">
      <h2>Вопросы и ответы</h2>
      <div class="faq">
        <details class="reveal"><summary>В каких городах вы выступаете?</summary>
          <p>Основные города: Краснодар, Сочи, Геленджик, Новороссийск, Анапа, Армавир, Ялта, Симферополь, Ставрополь. Также выезжаем в соседние города по Краснодарскому краю, Крыму и Ставрополью.</p>
        </details>
        <details class="reveal"><summary>Под какие события подходит программа?</summary>
          <p>Свадьбы, юбилеи, корпоративы, городские праздники и тематические вечера. Программа гибкая: живой вокал, танцевальные выходы, интерактив, возможна встреча с чаркой.</p>
        </details>
        <details class="reveal"><summary>Сколько длится выступление и какой состав?</summary>
          <p>Классический блок 20–40 минут. Состав — 4 солиста (вокал и танцы). При необходимости изменим длительность под тайминг площадки.</p>
        </details>
        <details class="reveal"><summary>Как узнать цену и свободные даты?</summary>
          <p>Оставьте заявку через кнопку «Забронировать дату» или напишите в WhatsApp — ответим оперативно, подскажем варианты по бюджету и датам.</p>
        </details>
      </div>
    </div>
  </section>

  <!-- GALLERY -->
  <section id="gallery" class="section themed" data-theme="cyan-violet">
    <div class="container">
      <h2>Галерея</h2>
      <div class="gallery">
        <img class="reveal" src="img/photo_01.jpg" alt="Цыганское шоу на свадьбе в Краснодаре — живой вокал" loading="lazy" />
        <img class="reveal" src="img/photo_02.jpg" alt="Цыганский ансамбль на празднике в Сочи — танцы и интерактив" loading="lazy" />
        <img class="reveal" src="img/photo_03.jpg" alt="Цыгане на праздник — Геленджик, яркие костюмы" loading="lazy" />
        <img class="reveal" src="img/photo_04.jpg" alt="Новороссийск — цыганские танцы и атмосфера" loading="lazy" />
        <img class="reveal" src="img/photo_05.jpg" alt="Анапа — живой вокал, любимые хиты" loading="lazy" />
        <img class="reveal" src="img/photo_06.jpg" alt="Ставрополь и соседние города — ансамбль на выезд" loading="lazy" />
      </div>
    </div>
  </section>

  <!-- CONTACTS -->
  <section id="contacts" class="section themed" data-theme="gold-rose">
    <div class="container">
      <h2>Контакты и бронирование</h2>
      <p class="sub">Закажите цыган на праздник в Краснодаре, Сочи, Геленджике, Новороссийске, Анапе, Армавире, Ялте, Симферополе, Ставрополе и соседних городах. Подберём программу и длительность под вашу площадку и сценарий.</p>
      <div class="contacts reveal" style="text-align:center;">
        <p>Телефон / WhatsApp: <a href="https://wa.me/79282589678" target="_blank" rel="noopener">+7 (928) 258‑96‑78</a></p>
        <p>Телефон / WhatsApp: <a href="https://wa.me/79284072037" target="_blank" rel="noopener">+7 (928) 407‑20‑37</a></p>
        <p>Instagram: <a href="https://instagram.com/tsigane_na_prazdnik" target="_blank" rel="noopener">tsigane_na_prazdnik</a></p>
        <p>ВКонтакте: <a href="https://vk.com/tsigane_na_prazdnik" target="_blank" rel="noopener">vk.com/tsigane_na_prazdnik</a></p>
        <div style="margin-top:18px">
          <button class="btn btn--primary" id="openBooking2">Забронировать дату</button>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container footer__wrap">
      <div>© gypsy-show.ru</div>
      <div class="small">Сделано с любовью к музыке</div>
    </div>
  </footer>

  <!-- MODAL: Бронирование даты -->
  <div class="modal" id="bookingModal" aria-hidden="true" role="dialog" aria-labelledby="bookingTitle">
    <div class="modal__card">
      <button class="modal__close" id="modalClose" aria-label="Закрыть">✕</button>
      <h3 class="modal__title" id="bookingTitle">Забронировать дату</h3>
      <form class="form" id="bookingForm" novalidate>
        <div class="field">
          <label for="bf-name">Имя</label>
          <input class="input" id="bf-name" name="name" type="text" placeholder="Ваше имя" required>
        </div>
        <div class="field">
          <label for="bf-city">Город мероприятия</label>
          <input class="input" id="bf-city" name="city" type="text" placeholder="Например: Сочи" required>
        </div>
        <div class="field">
          <label for="bf-date">Дата</label>
          <input class="date" id="bf-date" name="date" type="date" required>
        </div>
        <div class="field">
          <label for="bf-phone">Контактный телефон</label>
          <input class="input" id="bf-phone" name="phone" type="tel" inputmode="tel" placeholder="+7 (___) ___-__-__" required>
          <div class="hint">Пример: +7 (928) 259‑96‑78</div>
        </div>

        <!-- скрытые поля для письма -->
        <input type="hidden" name="to" value="novoselpa@yandex.ru">
        <input type="hidden" name="source" value="gypsy-show.ru">

        <button type="submit" class="btn btn--primary" id="bf-submit">Отправить</button>
        <div class="success" id="bf-success">Спасибо за Ваше обращение. Мы скоро с Вами свяжемся!</div>
      </form>
    </div>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <button class="lb-close" aria-label="Закрыть" title="Закрыть">✕</button>
    <button class="lb-prev" aria-label="Назад" title="Назад">‹</button>
    <div class="lb-stage"><img id="lbImg" src="" alt="Просмотр изображения"></div>
    <button class="lb-next" aria-label="Вперёд" title="Вперёд">›</button>
    <div class="ui">
      <a class="btn btn--outlined" id="lbZoomOut">−</a>
      <a class="btn btn--outlined" id="lbZoomReset">100%</a>
      <a class="btn btn--outlined" id="lbZoomIn">+</a>
    </div>
  </div>

  <div class="to-top" id="toTop"><a class="btn btn--outlined" href="#top" onclick="window.scrollTo({top:0, behavior:'smooth'})">▲</a></div>

  <script>
    // ========= CONFIG =========
    // Если хотите, чтобы заявка приходила на почту автоматически с GitHub Pages,
    // создайте форму в Formspree и вставьте сюда её endpoint (пример: "https://formspree.io/f/abcdwxyz").
    // Иначе сработает безопасный резерв: откроется окно email-клиента с готовым письмом.
    const FORM_ENDPOINT = ""; // вставьте ваш Formspree endpoint (оставьте пустым для резервного mailto)

    const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const isTouch = window.matchMedia('(pointer:coarse), (hover:none)').matches;

    // Progress + ToTop
    const progress = document.getElementById('progress');
    const onScroll = () => {
      const y = window.scrollY || document.documentElement.scrollTop;
      const h = document.documentElement.scrollHeight - window.innerHeight;
      progress.style.width = (y / h * 100) + '%';
      document.getElementById('toTop').classList.toggle('show', y > 600);
    };
    onScroll(); window.addEventListener('scroll', onScroll);

    // Ripple
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('.btn'); if (!btn) return;
      const old = btn.querySelector('.ripple'); if (old) old.remove();
      const rect = btn.getBoundingClientRect();
      const d = Math.max(btn.clientWidth, btn.clientHeight);
      const x = e.clientX - rect.left - d/2; const y = e.clientY - rect.top - d/2;
      const s = document.createElement('span'); s.className='ripple';
      s.style.width = s.style.height = d + 'px'; s.style.left = x + 'px'; s.style.top = y + 'px';
      btn.appendChild(s); setTimeout(()=>s.remove(), 650);
    });

    // Reveal
    const sections = document.querySelectorAll('.section');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach((en)=>{
        if (en.isIntersecting){
          en.target.classList.add('in');
          en.target.querySelectorAll?.('.reveal').forEach(el=>el.classList.add('in'));
          io.unobserve(en.target);
        }
      });
    }, {rootMargin:'0px 0px -12% 0px', threshold:.18});
    sections.forEach(sec=>io.observe(sec));

    // Cursor (desktop)
    (function(){
      if (reduced || isTouch) { document.getElementById('cursor')?.remove(); return; }
      const c = document.getElementById('cursor'); if (!c) return;
      let tx = innerWidth/2, ty = innerHeight/2, x = tx, y = ty;
      window.addEventListener('mousemove', e => { tx = e.clientX; ty = e.clientY; }, {passive:true});
      function raf(){ x += (tx - x)*0.18; y += (ty - y)*0.18; c.style.transform = `translate(${x}px, ${y}px) translate(-50%,-50%)`; requestAnimationFrame(raf) }
      requestAnimationFrame(raf);
      ['mouseleave','blur','mousedown'].forEach(ev=>window.addEventListener(ev, ()=>document.body.classList.add('cursor-hide')));
      ['mouseenter','focus','mouseup'].forEach(ev=>window.addEventListener(ev, ()=>document.body.classList.remove('cursor-hide')));
    })();

    // Tilt (desktop)
    if (!reduced && !isTouch){
      document.querySelectorAll('[data-tilt]').forEach(el=>{
        el.addEventListener('mousemove', (e)=>{
          const r = el.getBoundingClientRect();
          const x = e.clientX - r.left; const y = e.clientY - r.top;
          const rx = ((y / r.height) - .5) * -6;
          const ry = ((x / r.width) - .5) * 6;
          el.style.transform = `perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg)`;
        });
        el.addEventListener('mouseleave', ()=> el.style.transform='perspective(900px) rotateX(0) rotateY(0)');
      });
    }

    // HERO carousel
    (function(){
      const root = document.getElementById('heroCarousel'); if (!root) return;
      const track = root.querySelector('.track');
      const dots = [...root.querySelectorAll('.dot')];
      let i = 0, N = root.querySelectorAll('.slide').length, timer;
      function go(n, instant=false){
        i = (n + N) % N;
        track.style.transition = instant ? 'none' : 'transform .8s cubic-bezier(.2,.8,.2,1)';
        track.style.transform = `translateX(-${i*100}%)`;
        dots.forEach((d,k)=>d.classList.toggle('active', k===i));
      }
      function play(){ stop(); timer = setInterval(()=>go(i+1), 2000); }
      function stop(){ if (timer) clearInterval(timer); }
      dots.forEach((d,k)=> d.addEventListener('click', ()=>{ go(k); play(); }));
      let startX=0, dx=0, touching=false;
      root.addEventListener('pointerdown', (e)=>{ touching=true; startX=e.clientX; dx=0; stop(); root.setPointerCapture(e.pointerId); });
      root.addEventListener('pointermove', (e)=>{ if(!touching) return; dx = e.clientX - startX; track.style.transition='none'; track.style.transform=`translateX(calc(-${i*100}% + ${dx}px))`; });
      root.addEventListener('pointerup', (e)=>{ if(!touching) return; touching=false; root.releasePointerCapture(e.pointerId);
        if (dx > 80) go(i-1); else if (dx < -80) go(i+1); else go(i); play();
      });
      root.addEventListener('mouseenter', stop);
      root.addEventListener('mouseleave', play);
      go(0, true); play();
    })();

    // Nav pill + smooth scroll
    (function(){
      const nav = document.getElementById('mainNav'), pill = document.getElementById('navPill');
      const links = [...nav.querySelectorAll('a')];
      const map = Object.fromEntries(links.map(a => [a.dataset.target || a.getAttribute('href'), document.querySelector(a.dataset.target || a.getAttribute('href'))]));
      function movePill(a){ if (!a) return; const r=a.getBoundingClientRect(), nr=nav.getBoundingClientRect(); pill.style.width=r.width+'px'; pill.style.height=r.height+'px'; pill.style.transform=`translate(${r.left-nr.left}px, ${r.top-nr.top}px)`; }
      function activate(a){ links.forEach(l=>l.classList.toggle('active', l===a)); movePill(a); }
      requestAnimationFrame(()=>activate(links[0]));
      links.forEach(a=>a.addEventListener('click',(e)=>{ e.preventDefault(); const sel=a.dataset.target||a.getAttribute('href'); const el=map[sel]; if(!el) return; const y=el.getBoundingClientRect().top + window.pageYOffset - (document.querySelector('.header').offsetHeight - 6); activate(a); window.scrollTo({top:y, behavior:'smooth'}); history.pushState(null,'',sel); document.body.classList.remove('menu-open'); }));
      const io2 = new IntersectionObserver((entries)=>{ entries.forEach(en=>{ if(en.isIntersecting){ const a=links.find(l => (l.dataset.target||l.getAttribute('href')) === '#'+en.target.id); if(a) activate(a); } }); }, {rootMargin:'-40% 0px -55% 0px', threshold:0.01});
      Object.values(map).forEach(sec => sec && io2.observe(sec));
      window.addEventListener('resize', ()=>movePill(nav.querySelector('a.active')));
    })();

    // Видео: выбор источника (HEVC/AVC/WebM) + кэш-бастинг
    (function(){
      const vProbe = document.createElement('video');
      const canHevc = vProbe.canPlayType('video/mp4; codecs="hvc1.1.L120.B0"') || vProbe.canPlayType('video/mp4; codecs="hev1"');
      const canAvc  = vProbe.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"') || vProbe.canPlayType('video/mp4; codecs="avc1"');
      const canWebm = vProbe.canPlayType('video/webm; codecs="vp9,opus"') || vProbe.canPlayType('video/webm; codecs="vp8,vorbis"');
      const bust = (u)=> u + (u.includes('?') ? '&' : '?') + 'v=7';

      function headExists(url){ return fetch(url, {method:'HEAD', cache:'no-store'}).then(r=>r.ok).catch(()=>false); }
      function tryLoad(video, url){
        return new Promise((resolve)=>{
          let settled = false;
          const ok=()=>{ settled=true; cleanup(); resolve(true); };
          const bad=()=>{ cleanup(); resolve(false); };
          const cleanup=()=>{ video.removeEventListener('loadeddata', ok); video.removeEventListener('error', bad); video.removeEventListener('stalled', bad); };
          video.addEventListener('loadeddata', ok, {once:true});
          video.addEventListener('error', bad, {once:true});
          video.addEventListener('stalled', bad, {once:true});
          video.src = url; video.load();
          setTimeout(()=>{ if(!settled) { cleanup(); resolve(video.readyState >= 2); } }, 4500);
        });
      }

      async function chooseAndLoad(video){
        const base = video.dataset.base; if(!base) return;
        const candidates = [];
        if (canHevc) {
          candidates.push(bust(base + '.mp4'));
          if (canAvc) candidates.push(bust(base + '_h264.mp4'));
          if (canWebm) candidates.push(bust(base + '.webm'));
        } else {
          if (canAvc) candidates.push(bust(base + '_h264.mp4'));
          candidates.push(bust(base + '.mp4'));
          if (canWebm) candidates.push(bust(base + '.webm'));
        }
        for (const url of candidates){
          if (!(await headExists(url))) continue;
          if (await tryLoad(video, url)) return;
        }
      }

      document.querySelectorAll('video[data-base]').forEach(vid=>chooseAndLoad(vid));
    })();

    // Постеры: пробуем .jpg/.jpeg, иначе делаем скрин с ~1с
    (function(){
      const videos = document.querySelectorAll('video[data-autoposter]');
      videos.forEach(v => {
        let p = v.getAttribute('poster');
        if (!p) return genPoster(v);
        const tryLoad = (src)=> new Promise(res=>{ const img=new Image(); img.onload=()=>res(true); img.onerror=()=>res(false); img.src = src + (src.includes('?')?'&':'?') + 't=' + Date.now(); });
        (async ()=>{
          const ok = await tryLoad(p);
          if (ok) return;
          if (p.endsWith('.jpg')) {
            const alt = p.replace(/\.jpg(\?.*)?$/i, '.jpeg');
            if (await tryLoad(alt)) { v.setAttribute('poster', alt); return; }
          } else if (p.endsWith('.jpeg')) {
            const alt = p.replace(/\.jpeg(\?.*)?$/i, '.jpg');
            if (await tryLoad(alt)) { v.setAttribute('poster', alt); return; }
          }
          genPoster(v);
        })();
      });

      function genPoster(v){
        if (v.readyState < 1){
          v.addEventListener('loadedmetadata', ()=>capture(v), {once:true});
        } else capture(v);
      }
      function capture(v){
        const dur = isFinite(v.duration) ? v.duration : 0;
        const t = dur && dur < 1 ? Math.max(0.1, dur*0.3) : 1;
        const onSeeked = ()=>{
          const w = v.videoWidth || 720, h = v.videoHeight || 1280;
          const canvas = document.createElement('canvas'); canvas.width = w; canvas.height = h;
          const ctx = canvas.getContext('2d');
          try{
            ctx.drawImage(v, 0, 0, w, h);
            v.setAttribute('poster', canvas.toDataURL('image/jpeg', 0.85));
            if (!v.paused) v.pause();
            v.currentTime = 0;
          }catch(e){}
        };
        const once = ()=>{ v.removeEventListener('seeked', once); onSeeked(); };
        v.addEventListener('seeked', once);
        try{ v.currentTime = t; }catch{ onSeeked(); }
      }
    })();

    // Lightbox
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const imgs = [...document.querySelectorAll('.gallery img')];
    let idx = 0, scale = 1, pos = {x:0,y:0};
    function openLb(i){ idx=i; load(); lb.classList.add('show'); document.body.style.overflow='hidden'; resetZoom(); }
    function closeLb(){ lb.classList.remove('show'); document.body.style.overflow=''; }
    function load(){ lbImg.src = imgs[idx].src; }
    function resetZoom(){ scale = 1; pos.x=0; pos.y=0; lbImg.style.transform = `translate(${pos.x}px, ${pos.y}px) scale(${scale})`; }
    imgs.forEach((img,i)=> img.addEventListener('click', ()=>openLb(i)));
    lb.querySelector('.lb-close').addEventListener('click', closeLb);
    lb.querySelector('.lb-prev').addEventListener('click', ()=>{ idx=(idx-1+imgs.length)%imgs.length; load(); resetZoom(); });
    lb.querySelector('.lb-next').addEventListener('click', ()=>{ idx=(idx+1)%imgs.length; load(); resetZoom(); });
    lb.addEventListener('click', (e)=>{ if (e.target===lb) closeLb(); });

    // ======= Modal: booking =======
    const modal = document.getElementById('bookingModal');
    const openBooking = ()=>{ modal.classList.add('show'); document.body.style.overflow='hidden'; document.getElementById('bf-name').focus(); };
    const closeBooking = ()=>{ modal.classList.remove('show'); document.body.style.overflow=''; };
    document.getElementById('openBooking').addEventListener('click', openBooking);
    document.getElementById('openBooking2').addEventListener('click', openBooking);
    document.getElementById('modalClose').addEventListener('click', closeBooking);
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeBooking(); });
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && modal.classList.contains('show')) closeBooking(); });

    // Маска телефона: +7 (XXX) XXX-XX-XX, ввод после +7
    const phone = document.getElementById('bf-phone');
    function formatPhone(raw){
      let d = raw.replace(/\D/g,'');
      if (d.startsWith('8')) d = '7' + d.slice(1);
      if (!d.startsWith('7')) d = '7' + d; // принудительно РФ
      d = d.slice(0, 11); // +7 и ещё 10 цифр
      const p = d.slice(1); // после 7
      const a = p.slice(0,3);
      const b = p.slice(3,6);
      const c = p.slice(6,8);
      const e = p.slice(8,10);
      let out = '+7';
      if (a) out += ' (' + a.padEnd(3, '_') + ')';
      else out += ' (___)';
      out += ' ';
      if (b) out += (b.padEnd(3,'_')); else out += '___';
      out += '-';
      if (c) out += (c.padEnd(2,'_')); else out += '__';
      out += '-';
      if (e) out += (e.padEnd(2,'_')); else out += '__';
      return out;
    }
    function setPhone(val){ phone.value = formatPhone(val || phone.value || '+7'); }
    phone.addEventListener('focus', ()=>{ if(!phone.value) setPhone('+7'); });
    phone.addEventListener('input', ()=> setPhone(phone.value));
    phone.addEventListener('keydown', (e)=>{
      if ((e.key==='Backspace' || e.key==='Delete') && phone.selectionStart<=3){
        e.preventDefault(); setPhone('+7'); phone.setSelectionRange(phone.value.length, phone.value.length);
      }
    });

    // Отправка формы (Formspree или резервный mailto)
    const form = document.getElementById('bookingForm');
    const success = document.getElementById('bf-success');
    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      success.classList.remove('show');

      const name = document.getElementById('bf-name').value.trim();
      const city = document.getElementById('bf-city').value.trim();
      const date = document.getElementById('bf-date').value;
      const phoneVal = phone.value.replace(/_/g,'').trim();
      if (!name || !city || !date || phoneVal.length < 18){ // +7 (xxx) xxx-xx-xx = 18 символов
        alert('Пожалуйста, заполните все поля корректно.');
        return;
      }

      const payload = {
        name, city, date,
        phone: phoneVal,
        to: 'novoselpa@yandex.ru',
        page: location.href
      };

      if (FORM_ENDPOINT){
        try{
          const r = await fetch(FORM_ENDPOINT, {
            method:'POST',
            headers:{'Content-Type':'application/json','Accept':'application/json'},
            body: JSON.stringify(payload)
          });
          if (!r.ok) throw new Error('Send failed');
          success.classList.add('show');
          form.reset();
          setPhone('+7');
          return;
        }catch(err){
          console.warn('Form endpoint error, fallback to mailto', err);
        }
      }
      // Резерв: открываем email‑клиент с готовым письмом
      const subject = encodeURIComponent('Заявка: бронирование даты (gypsy-show.ru)');
      const body = encodeURIComponent(
        `Имя: ${name}\nГород: ${city}\nДата: ${date}\nТелефон: ${phoneVal}\nСтраница: ${location.href}`
      );
      window.location.href = `mailto:novoselpa@yandex.ru?subject=${subject}&body=${body}`;
      success.classList.add('show');
      form.reset();
      setPhone('+7');
    });

    // Закрытие мобильного меню при клике вне шапки
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.header') && document.body.classList.contains('menu-open')) {
        document.body.classList.remove('menu-open');
      }
    });
  </script>
</body>
</html>
